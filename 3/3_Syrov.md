# –†–∞—Å—á—ë—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ3: –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏–≥—Ä —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∏—Å—Ö–æ–¥–∞–º–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

- –°—Ç—É–¥–µ–Ω—Ç: –°—ã—Ä–æ–≤ –ï–≥–æ—Ä –†–æ–º–∞–Ω–æ–≤–∏—á
- –ì—Ä—É–ø–ø–∞: 5130901/30201
- –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: Bingo_lottery - Bingo_75: –ë–∏–Ω–≥–æ 75

### 1. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

#### 1.1 –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–µ–π –ø–æ –≥–∏–ø–µ—Ä–≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–º—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é

–î–ª—è —Ä–∞—Å—á–µ—Ç–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–∏–ø–µ—Ä–≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:

$$P(X=k) = \frac{C(K,k) \cdot C(N-K,n-k)}{C(N,n)}$$

–≥–¥–µ:
- $N = 75$ - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª
- $K$ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–∞–≤—à–∏—Ö —á–∏—Å–µ–ª –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Ö–æ–¥—É
- $n$ - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–ª—è –≤—ã–∏–≥—Ä—ã—à–∞
- $k = n$ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

**–¢–æ—á–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏:**

| –¢—É—Ä | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –§–æ—Ä–º—É–ª–∞ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å |
|-----|-----------|---------|-------------|
| 1-–π "–£–≥–ª—ã" | $n=4$, $K=28$ | $P = \frac{C(28,4)}{C(75,4)}$ | 0.0168456127 |
| 2-–π "–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ" | $n=8$, $K=38$ | $P = \frac{C(38,8)}{C(75,8)}$ | 0.0028986626 |
| "–î–∂–µ–∫–ø–æ—Ç" | $n=24$, $K=43$ | $P = \frac{C(43,24)}{C(75,24)}$ | 3.1051699√ó10‚Åª‚Å∏ |
| "–ö–∞—Ä—Ç–æ—á–∫–∞-55" | $n=24$, $K=55$ | $P = \frac{C(55,24)}{C(75,24)} - \frac{C(43,24)}{C(75,24)}$ | 9.650463√ó10‚Åª‚Åµ |
| "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥" | $n=24$, $K=72$ | $P = \frac{C(72,24)}{C(75,24)} - \frac{C(55,24)}{C(75,24)}$ | 0.3083745138 |

#### 1.2 –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–æ–≤–æ–≥–æ —Ñ–æ–Ω–¥–∞ –∏ –≤—ã–∏–≥—Ä—ã—à–∏

–ü—Ä–∏–∑–æ–≤–æ–π —Ñ–æ–Ω–¥ = 50% –æ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –±–∏–ª–µ—Ç–∞ = 37.5 —Ä—É–±.

**–û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è RTP=50%:**

| –¢—É—Ä | –í—ã–∏–≥—Ä—ã—à (—Ä—É–±.) | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–∫–ª–∞–¥ –≤ –ú–û (—Ä—É–±.) | –î–æ–ª—è –≤ –ø—Ä–∏–∑–æ–≤–æ–º —Ñ–æ–Ω–¥–µ |
|-----|----------------|-------------|-------------------|------------------------|
| "–£–≥–ª—ã" | 50.00 | 0.0168456127 | 0.8423 | 2.25% |
| "–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ" | 100.00 | 0.0028986626 | 0.2899 | 0.77% |
| "–î–∂–µ–∫–ø–æ—Ç" | 10,000,000 | 3.1051699√ó10‚Åª‚Å∏ | 0.3105 | 0.83% |
| "–ö–∞—Ä—Ç–æ—á–∫–∞-55" | 200.00 | 9.650463√ó10‚Åª‚Åµ | 0.0193 | 0.05% |
| "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥" | 116.86 | 0.3083745138 | 36.0380 | 96.10% |
| **–ò—Ç–æ–≥–æ** | - | - | **37.5000** | **100%** |

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í—ã–∏–≥—Ä—ã—à –¥–ª—è "–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ö–æ–¥–∞" —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –∏–∑ —É—Å–ª–æ–≤–∏—è —Å—É–º–º–∞—Ä–Ω–æ–≥–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è:*
$$X = \frac{37.5 - (50 \cdot 0.0168456127 + 100 \cdot 0.0028986626 + 10000000 \cdot 3.1051699\times10^{-8} + 200 \cdot 9.650463\times10^{-5})}{0.3083745138} = 116.86$$

#### 1.3 –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

**–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ:**
$$E(X) = \sum_{i=1}^{n} p_i \cdot x_i = 50 \cdot 0.0168456127 + 100 \cdot 0.0028986626 + 10000000 \cdot 3.1051699\times10^{-8} + 200 \cdot 9.650463\times10^{-5} + 116.86 \cdot 0.3083745138$$
$$E(X) = 37.5000 \text{ —Ä—É–±.}$$

**–í—Ç–æ—Ä–æ–π –º–æ–º–µ–Ω—Ç:**
$$E(X^2) = \sum_{i=1}^{n} p_i \cdot x_i^2 = 50^2 \cdot 0.0168456127 + 100^2 \cdot 0.0028986626 + 10000000^2 \cdot 3.1051699\times10^{-8} + 200^2 \cdot 9.650463\times10^{-5} + 116.86^2 \cdot 0.3083745138$$
$$E(X^2) = 3,109,655.167 \text{ —Ä—É–±.}^2$$

**–î–∏—Å–ø–µ—Ä—Å–∏—è:**
$$Var(X) = E(X^2) - (E(X))^2 = 3,109,655.167 - 37.5^2 = 3,108,248.917 \text{ —Ä—É–±.}^2$$

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ:**
$$\sigma = \sqrt{Var(X)} = \sqrt{3,108,248.917} = 1,762.966 \text{ —Ä—É–±.}$$

#### 1.4 –ö–≤–∞–Ω—Ç–∏–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–∏–≥—Ä—ã—à–µ–π

–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è $F(x) = P(X \leq x)$:

$$F(x) = \begin{cases}
0.6915289505, & x < 50 \\
0.7083745632, & 50 \leq x < 100 \\
0.7112732258, & 100 \leq x < 116.86 \\
1.0196477396, & 116.86 \leq x < 200 \\
1.0197442442, & 200 \leq x < 10000000 \\
1.0197442753, & x \geq 10000000
\end{cases}$$

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏—è >1 –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ –∫–≤–∞–Ω—Ç–∏–ª–µ–π.*

| –ö–≤–∞–Ω—Ç–∏–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ (—Ä—É–±.) | –†–∞—Å—á–µ—Ç |
|----------|-----------------|--------|
| 10% | 0.00 | $F(0) = 0.6915 > 0.10$ |
| 20% | 0.00 | $F(0) = 0.6915 > 0.20$ |
| 30% | 0.00 | $F(0) = 0.6915 > 0.30$ |
| 40% | 0.00 | $F(0) = 0.6915 > 0.40$ |
| 50% (–ú–µ–¥–∏–∞–Ω–∞) | 0.00 | $F(0) = 0.6915 > 0.50$ |
| 60% | 0.00 | $F(0) = 0.6915 > 0.60$ |
| 70% | 116.86 | $F(0) = 0.6915 < 0.70 < F(116.86) = 1.0000$ |
| 80% | 116.86 | $F(116.86) = 1.0000 > 0.80$ |
| 90% | 116.86 | $F(116.86) = 1.0000 > 0.90$ |

#### 1.5 –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ —Ä–∏—Å–∫–∞

**RTP (Return to Player):**
$$RTP = \frac{E(X)}{\text{—Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞}} \times 100\% = \frac{37.5}{75} \times 100\% = 50.00\%$$

**House Advantage:**
$$\text{House Advantage} = 100\% - RTP = 50.00\%$$

**–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å):**
$$CV = \frac{\sigma}{E(X)} = \frac{1,762.966}{37.5} = 47.0124$$

**–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞:**
$$P(X > 0) = 1 - P(X = 0) = 1 - 0.6915289505 = 0.3084710495 = 30.847\%$$

#### 1.6 –î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞

–î–ª—è $n$ –±–∏–ª–µ—Ç–æ–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ —Å—Ä–µ–¥–Ω–µ–≥–æ:
$$SE = \frac{\sigma}{\sqrt{n}}$$

–î–ª—è 95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ ($Z_{0.975} = 1.96$):
$$\text{–ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å} = 1.96 \times SE$$

| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ | 95% –î–ò –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ |
|--------------------|--------------------|------------------------------|
| 100 | 176.297 | (37.5 - 345.542, 37.5 + 345.542) = (-308.042, 383.042) |
| 1,000 | 55.751 | (37.5 - 109.272, 37.5 + 109.272) = (-71.772, 146.772) |
| 10,000 | 17.630 | (37.5 - 34.555, 37.5 + 34.555) = (2.945, 72.055) |
| 100,000 | 5.575 | (37.5 - 10.927, 37.5 + 10.927) = (26.573, 48.427) |

#### 1.7 –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã

–ü–æ—Å–∫–æ–ª—å–∫—É —Ä–æ–∑—ã–≥—Ä—ã—à –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ 72 —Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –±–∏–ª–µ—Ç–æ–≤, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞:
$$T = 72 \text{ —Ö–æ–¥–∞}$$

–û–¥–Ω–∞–∫–æ, –µ—Å–ª–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞, —Ç–æ —ç—Ç–æ —Å–ª—É—á–∞–π–Ω–∞—è –≤–µ–ª–∏—á–∏–Ω–∞ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º:
- $P(T \leq 28) = P(\text{"–£–≥–ª—ã"}) = 0.0168$
- $P(29 \leq T \leq 38) = P(\text{"–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ"}) \times (1 - P(\text{"–£–≥–ª—ã"})) = 0.00285$
- $P(39 \leq T \leq 43) = P(\text{"–î–∂–µ–∫–ø–æ—Ç"}) \times (1 - P(\text{"–£–≥–ª—ã"}) - P(\text{"–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ"})) = 3.09 \times 10^{-8}$
- $P(44 \leq T \leq 55) = P(\text{"–ö–∞—Ä—Ç–æ—á–∫–∞-55"}) \times (1 - P(\text{"–î–∂–µ–∫–ø–æ—Ç"})) = 9.65 \times 10^{-5}$
- $P(56 \leq T \leq 72) = P(\text{"–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥"}) = 0.3084$
- $P(T > 72) = P(\text{–Ω–∏ –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞}) = 0.6915$

–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞:
$$E(T) = \sum t_i \cdot p_i = 28 \cdot 0.0168 + 33.5 \cdot 0.00285 + 41 \cdot 3.09\times10^{-8} + 49.5 \cdot 9.65\times10^{-5} + 64 \cdot 0.3084 + 72 \cdot 0.6915$$
$$E(T) = 68.24 \text{ —Ö–æ–¥–∞}$$

### 2. –ò—Ç–æ–≥–æ–≤—ã–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ | –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è |
|------------|----------|-------------------|
| –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞ | 37.5000 | —Ä—É–±. |
| –î–∏—Å–ø–µ—Ä—Å–∏—è | 3,108,248.917 | —Ä—É–±.¬≤ |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ | 1,762.966 | —Ä—É–±. |
| –ú–µ–¥–∏–∞–Ω–∞ –≤—ã–∏–≥—Ä—ã—à–∞ | 0.00 | —Ä—É–±. |
| –ú–æ–¥–∞ –≤—ã–∏–≥—Ä—ã—à–∞ | 0.00 | —Ä—É–±. |
| –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ | 47.0124 | - |
| RTP | 50.00 | % |
| House Advantage | 50.00 | % |
| –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ | 30.847 | % |
| –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã | 72.00 | —Ö–æ–¥–æ–≤ |
| –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ | 68.24 | —Ö–æ–¥–æ–≤ |

**–í—ã–≤–æ–¥:** –õ–æ—Ç–µ—Ä–µ—è "–ë–∏–Ω–≥–æ 75" —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å—é (CV = 47.0124), –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω–æ–π –Ω–∞–ª–∏—á–∏–µ–º –î–∂–µ–∫–ø–æ—Ç–∞. –û—Å–Ω–æ–≤–Ω–∞—è –º–∞—Å—Å–∞ –∏–≥—Ä–æ–∫–æ–≤ (69.15%) –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–∏–≥—Ä—ã—à–∞, –ø—Ä–∏ —ç—Ç–æ–º 30.85% –∏–≥—Ä–æ–∫–æ–≤ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—É–º–º—É –≤ "–ü–æ—Å–ª–µ–¥–Ω–µ–º —Ö–æ–¥–µ". RTP —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞—è–≤–ª–µ–Ω–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é 50%, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–æ–≤–æ–≥–æ —Ñ–æ–Ω–¥–∞.

### 1.2:  –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∏–∑ —Å—Ç–∞–≤–æ–∫
- —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π (–∑–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è) –Ω–∞ –¥–≤—É—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö –¥—Ä—É–≥ –ø–æ–¥ –¥—Ä—É–≥–æ–º
- —Ç–æ—á–µ—á–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ —Å—Ä–µ–¥–Ω–∏—Ö –≤—ã–∏–≥—Ä—ã—à–µ–π (–º–∞—Ç. –æ–∂–∏–¥–∞–Ω–∏–µ, –º–µ–¥–∏–∞–Ω–∞, –ø–ª—é—Å –º–∏–Ω—É—Å –°–ö–û)
- –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –¥–ª—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç —á–∏—Å–ª–∞ —Å—ã–≥—Ä–∞–Ω–Ω—ã—Ö –∏–≥—Ä
- –º–∞—Ç. –æ–∂–∏–¥–∞–Ω–∏–µ –∏–ª–∏ —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞


```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from scipy import stats
from tqdm import tqdm
import warnings

warnings.filterwarnings("ignore")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
plt.rcParams["figure.figsize"] = (12, 8)
plt.rcParams["font.size"] = 10
plt.style.use("default")

# –î–∞–Ω–Ω—ã–µ –∏–∑ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
win_values = [0, 50, 100, 116.86, 200, 10000000]
probabilities = [
    0.6915289505,  # P(X=0)
    0.0168456127,  # P(X=50)
    0.0028986626,  # P(X=100)
    0.3083745138,  # P(X=116.86)
    9.650463e-5,  # P(X=200)
    3.1051699e-8,  # P(X=10000000)
]

# 1. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π (–±—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)
plt.figure(figsize=(12, 8))

# –ì—Ä–∞—Ñ–∏–∫ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
plt.subplot(2, 1, 1)
colors = ["red" if x == 0 else "blue" if x == 116.86 else "green" for x in win_values]
bars = plt.bar(
    range(len(win_values)), probabilities, color=colors, edgecolor="black", alpha=0.7
)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–µ–π
plt.xticks(
    range(len(win_values)),
    ["0 —Ä—É–±.", "50 —Ä—É–±.", "100 —Ä—É–±.", "116.86 —Ä—É–±.", "200 —Ä—É–±.", "10 –º–ª–Ω —Ä—É–±."],
    rotation=45,
)
plt.xlabel("–í—ã–∏–≥—Ä—ã—à")
plt.ylabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
plt.title("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–µ–π –≤ –ª–æ—Ç–µ—Ä–µ–µ –ë–∏–Ω–≥–æ-75")
plt.grid(axis="y", linestyle="--", alpha=0.7)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–Ω–∞—á–∏–º—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
for i, (bar, prob) in enumerate(zip(bars, probabilities)):
    if prob > 0.0001:  # –¢–æ–ª—å–∫–æ –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π > 0.01%
        plt.text(
            bar.get_x() + bar.get_width() / 2,
            bar.get_height() + 0.001,
            f"{prob:.4f}",
            ha="center",
            fontsize=9,
        )

# –ì—Ä–∞—Ñ–∏–∫ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (CDF)
plt.subplot(2, 1, 2)
cumulative_prob = np.cumsum(probabilities)
plt.step(
    range(len(win_values)),
    cumulative_prob,
    where="post",
    linewidth=2.5,
    color="darkred",
    marker="o",
)

plt.xticks(
    range(len(win_values)),
    ["0 —Ä—É–±.", "50 —Ä—É–±.", "100 —Ä—É–±.", "116.86 —Ä—É–±.", "200 —Ä—É–±.", "10 –º–ª–Ω —Ä—É–±."],
    rotation=45,
)
plt.xlabel("–í—ã–∏–≥—Ä—ã—à")
plt.ylabel("P(X ‚â§ x)")
plt.title("–§—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–∏–≥—Ä—ã—à–µ–π (CDF)")
plt.grid(axis="y", linestyle="--", alpha=0.7)
plt.ylim(0, 1.05)

plt.tight_layout()
plt.show()


# 2. –î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –¥–ª—è RTP (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç)
def ci_rtp(n_games, confidence=0.95):
    """–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è RTP"""
    rtp = 0.5  # 50%
    std_rtp = 1762.966 / 75  # –°–ö–û –≤—ã–∏–≥—Ä—ã—à–∞ / —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞
    z = stats.norm.ppf((1 + confidence) / 2)
    margin = z * std_rtp / np.sqrt(n_games)
    return rtp - margin, rtp + margin


# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ (–º–µ–Ω—å—à–µ —Ç–æ—á–µ–∫ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
n_games = np.array([10, 50, 100, 200, 500, 1000, 2000, 5000, 10000])
lower_bounds = []
upper_bounds = []

for n in n_games:
    lower, upper = ci_rtp(n)
    lower_bounds.append(lower)
    upper_bounds.append(upper)

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
plt.figure(figsize=(10, 6))
plt.plot(n_games, lower_bounds, "b--", linewidth=2, label="–ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞")
plt.plot(n_games, upper_bounds, "r--", linewidth=2, label="–í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞")
plt.axhline(
    y=0.5, color="green", linestyle="-", linewidth=2, label="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP = 50%"
)

plt.xscale("log")
plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä (–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞)")
plt.ylabel("–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ (RTP)")
plt.title(
    "–î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –¥–ª—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–º–∞—Ö –≤—ã–±–æ—Ä–∫–∏"
)
plt.legend()
plt.grid(True, linestyle="--", alpha=0.7)
plt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, _: f"{x:.0%}"))
plt.tight_layout()
plt.show()

# 3. –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
stats_data = {
    "–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å": [
        "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ",
        "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ",
        "–ú–µ–¥–∏–∞–Ω–∞",
        "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏",
        "RTP",
        "–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞",
        "–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã",
    ],
    "–ó–Ω–∞—á–µ–Ω–∏–µ": [
        "37.50 —Ä—É–±.",
        "1,762.97 —Ä—É–±.",
        "0.00 —Ä—É–±.",
        "47.01",
        "50.00%",
        "30.85%",
        "72 —Ö–æ–¥–∞",
    ],
    "–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è": [
        "–°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à –Ω–∞ –±–∏–ª–µ—Ç",
        "–í—ã—Å–æ–∫–∏–π —Ä–∞–∑–±—Ä–æ—Å –≤—ã–∏–≥—Ä—ã—à–µ–π",
        "–ë–æ–ª–µ–µ 50% –±–∏–ª–µ—Ç–æ–≤ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç 0 —Ä—É–±.",
        "–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å",
        "–í–æ–∑–≤—Ä–∞—Ç –∏–≥—Ä–æ–∫—É 50% –æ—Ç —Å—Ç–∞–≤–æ–∫",
        "–ö–∞–∂–¥—ã–π —Ç—Ä–µ—Ç–∏–π –±–∏–ª–µ—Ç –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç",
        "–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
    ],
}

stats_df = pd.DataFrame(stats_data)
print("\n–ö–ª—é—á–µ–≤—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ª–æ—Ç–µ—Ä–µ–∏ –ë–∏–Ω–≥–æ-75:")
print(stats_df.to_string(index=False))
```


    
![png](3_Syrov_files/3_Syrov_4_0.png)
    



    
![png](3_Syrov_files/3_Syrov_4_1.png)
    


    
    –ö–ª—é—á–µ–≤—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ª–æ—Ç–µ—Ä–µ–∏ –ë–∏–Ω–≥–æ-75:
                   –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å      –ó–Ω–∞—á–µ–Ω–∏–µ                       –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
      –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ    37.50 —Ä—É–±.            –°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à –Ω–∞ –±–∏–ª–µ—Ç
       –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ 1,762.97 —Ä—É–±.           –í—ã—Å–æ–∫–∏–π —Ä–∞–∑–±—Ä–æ—Å –≤—ã–∏–≥—Ä—ã—à–µ–π
                      –ú–µ–¥–∏–∞–Ω–∞     0.00 —Ä—É–±. –ë–æ–ª–µ–µ 50% –±–∏–ª–µ—Ç–æ–≤ –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç 0 —Ä—É–±.
         –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏         47.01  –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
                          RTP        50.00%        –í–æ–∑–≤—Ä–∞—Ç –∏–≥—Ä–æ–∫—É 50% –æ—Ç —Å—Ç–∞–≤–æ–∫
         –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞        30.85%      –ö–∞–∂–¥—ã–π —Ç—Ä–µ—Ç–∏–π –±–∏–ª–µ—Ç –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç
    –°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã       72 —Ö–æ–¥–∞     –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å


### 1.3 –ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∏–≥—Ä–æ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–≥—Ä–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –¥–ª—è –∏–≥—Ä, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –∏–≥—Ä–æ–∫—É –≤—ã–∏–≥—Ä–∞—Ç—å –±–æ–ª—å—à–µ. –ü–æ—Å—á–∏—Ç–∞—Ç—å –¥–ª—è —ç—Ç–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–≥—Ä–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏.
## –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–≥—Ä—ã –≤ –ª–æ—Ç–µ—Ä–µ—é ¬´–ë–∏–Ω–≥–æ-75¬ª –∏ –∏—Ö –∞–Ω–∞–ª–∏–∑

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∏–≥—Ä —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞, –ª–æ—Ç–µ—Ä–µ—è ¬´–ë–∏–Ω–≥–æ-75¬ª —è–≤–ª—è–µ—Ç—Å—è –∏–≥—Ä–æ–π —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –∏—Å—Ö–æ–¥–∞–º–∏, –≥–¥–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ (RTP=50%). –û–¥–Ω–∞–∫–æ —Å —É—á–µ—Ç–æ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø—Ä–∞–≤–∏–ª (–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –¥–∂–µ–∫–ø–æ—Ç, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—É—Ä–æ–≤) –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –º–æ–≥—É—Ç —É–ª—É—á—à–∏—Ç—å –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∏–≥—Ä—ã –∏–ª–∏ —Å–¥–µ–ª–∞—Ç—å –µ–µ –±–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤–æ–π.

---

### 1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è "–û–∂–∏–¥–∞–Ω–∏–µ –±–æ–ª—å—à–æ–≥–æ –î–∂–µ–∫–ø–æ—Ç–∞"

#### –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
–ü–æ–∫—É–ø–∞—Ç—å –±–∏–ª–µ—Ç—ã **—Ç–æ–ª—å–∫–æ –≤ —Ç–µ—Ö —Ç–∏—Ä–∞–∂–∞—Ö**, –≥–¥–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –¥–∂–µ–∫–ø–æ—Ç –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥–æ–≤—É—é —Å—É–º–º—É, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π RTP —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ 50%. –≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∂–µ–∫–ø–æ—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ —Ç–∏—Ä–∞–∂–∞ –≤ —Ç–∏—Ä–∞–∂.

#### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –¥–∂–µ–∫–ø–æ—Ç–∞: $P_j = 3.1051699 \times 10^{-8}$
- –í–∫–ª–∞–¥ –¥–∂–µ–∫–ø–æ—Ç–∞ –≤ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ: $MO_j = P_j \times J$, –≥–¥–µ $J$ ‚Äî —Å—É–º–º–∞ –¥–∂–µ–∫–ø–æ—Ç–∞
- –û–±—â–µ–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ: $MO = 37.5 - 0.3105 + P_j \times J$
- –£—Å–ª–æ–≤–∏–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ RTP: $MO > 37.5$, —Ç.–µ. $P_j \times J > 0.3105$

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å—É–º–º–∞ –¥–∂–µ–∫–ø–æ—Ç–∞
$$J_{–∫—Ä–∏—Ç} = \frac{0.3105}{3.1051699 \times 10^{-8}} = 10,000,000 \text{ —Ä—É–±.}$$
–ù–æ —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞. –î–ª—è **–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è** –Ω—É–∂–Ω–æ:
$$J_{opt} = \frac{37.5}{3.1051699 \times 10^{-8}} = 1,207,658,000 \text{ —Ä—É–±.}$$
–û–¥–Ω–∞–∫–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –¥–∂–µ–∫–ø–æ—Ç —Ä–µ–¥–∫–æ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ç–∞–∫–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤. –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä–æ–≥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è RTP:

| –î–∂–µ–∫–ø–æ—Ç (—Ä—É–±.) | –í–∫–ª–∞–¥ –≤ MO (—Ä—É–±.) | –û–±—â–µ–µ MO (—Ä—É–±.) | RTP |
|----------------|-------------------|-----------------|-----|
| 10 –º–ª–Ω | 0.31 | 37.50 | 50.00% |
| 25 –º–ª–Ω | 0.78 | 37.97 | 50.62% |
| 50 –º–ª–Ω | 1.55 | 38.74 | 51.65% |
| 100 –º–ª–Ω | 3.11 | 40.30 | 53.73% |

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ç–∞–∫—Ç–∏–∫–∞
1. –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—É—é —Å—É–º–º—É –¥–∂–µ–∫–ø–æ—Ç–∞ (–ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º–∏)
2. –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ $J \geq 50$ –º–ª–Ω —Ä—É–±.** (RTP ‚â• 51.65%)
3. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∏—Å–∫–∞

#### –†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø—Ä–∏ $J = 50$ –º–ª–Ω —Ä—É–±.
- **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ:** 38.74 —Ä—É–±. –Ω–∞ –±–∏–ª–µ—Ç
- **RTP:** 51.65%
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –¥–∂–µ–∫–ø–æ—Ç–∞ –Ω–∞ 1 –±–∏–ª–µ—Ç:** 0.000003105%
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ –¥–ª—è 95% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ –¥–∂–µ–∫–ø–æ—Ç–∞:** $N = \frac{\ln(0.05)}{\ln(1-P_j)} \approx 96,000,000$ –±–∏–ª–µ—Ç–æ–≤
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥:** –î–∞–∂–µ –ø—Ä–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–º RTP —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ–≥—Ä–æ–º–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞.

---

### 2. –°—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´–ß–∞—Å—Ç—ã–µ –º–µ–ª–∫–∏–µ –≤—ã–∏–≥—Ä—ã—à–∏¬ª

#### –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
–§–æ–∫—É—Å –Ω–∞ —Ç—É—Ä–∞—Ö —Å **–≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤—ã–∏–≥—Ä—ã—à–∞** (¬´–£–≥–ª—ã¬ª –∏ ¬´–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥¬ª), –∏–≥–Ω–æ—Ä–∏—Ä—É—è –¥–∂–µ–∫–ø–æ—Ç. –ü–æ–∫—É–ø–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —á–∞—Å—Ç—ã—Ö –Ω–µ–±–æ–ª—å—à–∏—Ö –≤—ã–∏–≥—Ä—ã—à–µ–π.

#### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –≤ ¬´–£–≥–ª—ã¬ª: 1.68%
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –≤ ¬´–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥¬ª: 30.84%
- –°—É–º–º–∞—Ä–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞: 32.21%
- –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ: 37.50 —Ä—É–±. (RTP=50%)

#### –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤
–î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é:

| –¶–µ–ª—å | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –±–∏–ª–µ—Ç–æ–≤ | –°—Ç–æ–∏–º–æ—Å—Ç—å (—Ä—É–±.) | –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–∏–≥—Ä—ã—à (—Ä—É–±.) |
|-------|-------------|---------------------|------------------|--------------------------|
| 90% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ | 90% | 7 | 525 | 262.50 |
| 95% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ | 95% | 9 | 675 | 337.50 |
| 99% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ | 99% | 14 | 1,050 | 525.00 |

*–†–∞—Å—á–µ—Ç:* $N = \left\lceil \frac{\ln(1 - P_{—Ü–µ–ª—å})}{\ln(1 - P_{–≤—ã–∏–≥—Ä—ã—à})} \right\rceil$, –≥–¥–µ $P_{–≤—ã–∏–≥—Ä—ã—à} = 0.3221$

#### –†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è 7 –±–∏–ª–µ—Ç–æ–≤
- **–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:** 525 —Ä—É–±.
- **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞:** 262.50 —Ä—É–±.
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞:** 90.86%
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –≤ ¬´–ü–æ—Å–ª–µ–¥–Ω–µ–º —Ö–æ–¥–µ¬ª:** 91.37%
- **–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∏–≥—Ä—ã—à–µ–π:** $7 \times 0.3221 = 2.25$ –±–∏–ª–µ—Ç–∞
- **–°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à –Ω–∞ –±–∏–ª–µ—Ç:** 37.50 —Ä—É–±. (RTP=50%)

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
1. **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∫–æ–º—Ñ–æ—Ä—Ç** ‚Äî —á–∞—Å—Ç—ã–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ö–æ–¥—ã (–≤ 91% —Å–ª—É—á–∞–µ–≤ –µ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à)
2. **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** ‚Äî —É–∑–∫–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∏—Å—Ö–æ–¥–æ–≤
3. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫** ‚Äî –Ω–µ—Ç –Ω–∞–¥–µ–∂–¥—ã –Ω–∞ –¥–∂–µ–∫–ø–æ—Ç, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è

#### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ (-15% –æ—Ç –≤–ª–æ–∂–µ–Ω–∏–π)
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤

---

### 3. –°—Ç—Ä–∞—Ç–µ–≥–∏—è ¬´–ë—é–¥–∂–µ—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥¬ª

#### –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
–ñ–µ—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞ –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ –ª–æ—Ç–µ—Ä–µ–µ, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—è –µ–µ –∫–∞–∫ **—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ**, –∞ –Ω–µ —Å–ø–æ—Å–æ–± –∑–∞—Ä–∞–±–æ—Ç–∫–∞. –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏–∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è –ø—Ä–∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ—Ç–µ—Ä—å.

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç –Ω–∞ –º–µ—Å—è—Ü:** 300 —Ä—É–±. (4 –±–∏–ª–µ—Ç–∞)
- **–ß–∞—Å—Ç–æ—Ç–∞ —É—á–∞—Å—Ç–∏—è:** 1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
- **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –æ—Ä–∏–µ–Ω—Ç–∏—Ä:** —Å—á–∏—Ç–∞—Ç—å –≤—Å–µ –≤–ª–æ–∂–µ–Ω–∏—è –ø–ª–∞—Ç–æ–π –∑–∞ –∞–∑–∞—Ä—Ç –∏ –æ–∂–∏–¥–∞–Ω–∏–µ

#### –†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- **–û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏ –≤ –º–µ—Å—è—Ü:** $300 \times 0.5 = 150$ —Ä—É–±.
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –≤ –º–µ—Å—è—Ü:** 
  $$1 - (1 - 0.3221)^4 = 77.63\%$$
- **–û–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∏–≥—Ä—ã—à–µ–π –≤ –º–µ—Å—è—Ü:** $4 \times 0.3221 = 1.29$
- **–°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à –≤ –º–µ—Å—è—Ü:** $4 \times 37.5 = 150$ —Ä—É–±.

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –ø–æ—Ç–µ—Ä–∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
- **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–∑–∞—Ä—Ç–Ω–æ–≥–æ ¬´–¥–æ–≥–æ–Ω—è–Ω–∏—è¬ª –ø–æ—Ç–µ—Ä—å
- **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∞–ª—å–Ω—ã–º —à–∞–Ω—Å–∞–º** ‚Äî –∏–≥—Ä–∞ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ

---

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | ¬´–û—Ö–æ—Ç–∞ –∑–∞ –¥–∂–µ–∫–ø–æ—Ç–æ–º¬ª | ¬´–ß–∞—Å—Ç—ã–µ –≤—ã–∏–≥—Ä—ã—à–∏¬ª | ¬´–ë—é–¥–∂–µ—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥¬ª |
|------------|----------------------|-------------------|---------------------|
| **–¶–µ–ª—å** | –ú–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏ | –ß–∞—Å—Ç—ã–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ö–æ–¥—ã | –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ |
| **RTP** | 51.65% (–ø—Ä–∏ J=50 –º–ª–Ω) | 50.00% | 50.00% |
| **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞** | 0.000003% (–¥–∂–µ–∫–ø–æ—Ç) | 90.86% (–Ω–∞ 7 –±–∏–ª–µ—Ç–æ–≤) | 77.63% (–≤ –º–µ—Å—è—Ü) |
| **–¢—Ä–µ–±—É–µ–º—ã–π –∫–∞–ø–∏—Ç–∞–ª** | >1 –º–ª–Ω —Ä—É–±. | 525 —Ä—É–±. –Ω–∞ —Ç–∏—Ä–∞–∂ | 300 —Ä—É–±. –≤ –º–µ—Å—è—Ü |
| **–†–∏—Å–∫–∏** | –ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–µ—Ä–∏ | –£–º–µ—Ä–µ–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ |
| **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å** | –¢–æ–ª—å–∫–æ –¥–ª—è —Å–∏–Ω–¥–∏–∫–∞—Ç–æ–≤ | –î–ª—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ | –î–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏–≥—Ä–æ–∫–æ–≤ |

### 1.4 –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–ø—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Å—Ä–µ–¥–Ω—è—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã) –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö –∏ —Å–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞—Ç—å, –¥–ª—è –∫–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –∞–∑–∞—Ä—Ç–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∫–∞–∫–∞—è –∏–∑ —Å—Ç–∞–≤–æ–∫ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –±–æ–ª—å—à–∏–π –∏–Ω—Ç–µ—Ä–µ—Å.


```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
plt.rcParams["figure.figsize"] = (12, 8)
plt.rcParams["font.size"] = 12

# –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
ticket_cost = 75  # —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞ –≤ —Ä—É–±–ª—è—Ö
rtp = 0.5  # RTP (Return to Player)
jackpot_probability = 3.1051699e-8  # –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–∂–µ–∫–ø–æ—Ç–∞
win_probabilities = {
    "–£–≥–ª—ã": 0.0168456127,
    "–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ": 0.0028986626,
    "–ö–∞—Ä—Ç–æ—á–∫–∞-55": 9.650463e-5,
    "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥": 0.3083745138,
    "–î–∂–µ–∫–ø–æ—Ç": jackpot_probability,
}
win_amounts = {
    "–£–≥–ª—ã": 50,
    "–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ": 100,
    "–ö–∞—Ä—Ç–æ—á–∫–∞-55": 200,
    "–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥": 116.86,
    "–î–∂–µ–∫–ø–æ—Ç": 10000000,
}


# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤
def calculate_game_metrics(num_tickets):
    """
    –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–≥—Ä–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    num_tickets (int): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫—É–ø–∞–µ–º—ã—Ö –±–∏–ª–µ—Ç–æ–≤

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    dict: —Å–ª–æ–≤–∞—Ä—å —Å –∏–≥—Ä–æ–≤—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏
    """
    # –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏
    total_cost = num_tickets * ticket_cost

    # –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞
    expected_win = num_tickets * (ticket_cost * rtp)

    # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞
    p_no_win = 0.6915289505**num_tickets
    p_at_least_one_win = 1 - p_no_win

    # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç—É—Ä–∞—Ö
    p_jackpot = 1 - (1 - jackpot_probability) ** num_tickets
    p_last_move = 1 - (1 - win_probabilities["–ü–æ—Å–ª–µ–¥–Ω–∏–π —Ö–æ–¥"]) ** num_tickets

    # –î–∏—Å–ø–µ—Ä—Å–∏—è –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞
    # –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤—ã–∏–≥—Ä—ã—à–µ–π
    variance_single = 0
    for tour, prob in win_probabilities.items():
        amount = win_amounts[tour]
        variance_single += prob * (amount - expected_win / num_tickets) ** 2

    variance_total = variance_single * num_tickets
    std_dev_total = np.sqrt(variance_total)

    # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
    cv = std_dev_total / expected_win if expected_win > 0 else np.inf

    # –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏
    expected_loss = total_cost - expected_win

    # –ü—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ—Å—Ç–∞–µ—Ç—Å—è 50% –¥–ª—è –ª—é–±–æ–π —Å—Ç–∞–≤–∫–∏
    actual_rtp = expected_win / total_cost

    return {
        "num_tickets": num_tickets,
        "total_cost": total_cost,
        "expected_win": expected_win,
        "expected_loss": expected_loss,
        "p_at_least_one_win": p_at_least_one_win,
        "p_jackpot": p_jackpot,
        "p_last_move": p_last_move,
        "std_dev": std_dev_total,
        "cv": cv,
        "actual_rtp": actual_rtp,
    }


# –†–∞—Å—á–µ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—Ç–∞–≤–æ–∫
bet_types = {
    "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (1 –±–∏–ª–µ—Ç)": 1,
    "–ù–µ–±–æ–ª—å—à–∞—è (5 –±–∏–ª–µ—Ç–æ–≤)": 5,
    "–°—Ä–µ–¥–Ω—è—è (10 –±–∏–ª–µ—Ç–æ–≤)": 10,
    "–ë–æ–ª—å—à–∞—è (20 –±–∏–ª–µ—Ç–æ–≤)": 20,
    "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)": 50,
}

results = []
for bet_name, num_tickets in bet_types.items():
    metrics = calculate_game_metrics(num_tickets)
    metrics["bet_type"] = bet_name
    results.append(metrics)

# –°–æ–∑–¥–∞–Ω–∏–µ DataFrame –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞
results_df = pd.DataFrame(results)
results_df = results_df[
    [
        "bet_type",
        "num_tickets",
        "total_cost",
        "expected_win",
        "expected_loss",
        "p_at_least_one_win",
        "p_jackpot",
        "p_last_move",
        "std_dev",
        "cv",
        "actual_rtp",
    ]
]

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
results_df_formatted = results_df.copy()
results_df_formatted["total_cost"] = results_df_formatted["total_cost"].apply(
    lambda x: f"{x:,.0f}"
)
results_df_formatted["expected_win"] = results_df_formatted["expected_win"].apply(
    lambda x: f"{x:,.2f}"
)
results_df_formatted["expected_loss"] = results_df_formatted["expected_loss"].apply(
    lambda x: f"{x:,.2f}"
)
results_df_formatted["p_at_least_one_win"] = results_df_formatted[
    "p_at_least_one_win"
].apply(lambda x: f"{x:.2%}")
results_df_formatted["p_jackpot"] = results_df_formatted["p_jackpot"].apply(
    lambda x: f"{x:.8%}"
)
results_df_formatted["p_last_move"] = results_df_formatted["p_last_move"].apply(
    lambda x: f"{x:.2%}"
)
results_df_formatted["std_dev"] = results_df_formatted["std_dev"].apply(
    lambda x: f"{x:,.2f}"
)
results_df_formatted["actual_rtp"] = results_df_formatted["actual_rtp"].apply(
    lambda x: f"{x:.1%}"
)

print("–ò–≥—Ä–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—Ç–∞–≤–æ–∫:")
print(results_df_formatted.to_string(index=False))

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
plt.figure(figsize=(15, 10))

# 1. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ vs —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏
plt.subplot(2, 2, 1)
plt.plot(
    results_df["total_cost"],
    results_df["p_at_least_one_win"],
    "o-",
    linewidth=2,
    markersize=8,
    color="blue",
)
plt.xlabel("–°—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏ (—Ä—É–±.)")
plt.ylabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞")
plt.title("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ vs –°—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏")
plt.grid(True)
plt.ylim(0, 1.05)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
for i, row in results_df.iterrows():
    plt.annotate(
        f'{row["bet_type"]}',
        (row["total_cost"], row["p_at_least_one_win"]),
        xytext=(10, 10),
        textcoords="offset points",
    )

# 2. –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å vs –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤
plt.subplot(2, 2, 2)
plt.plot(
    results_df["num_tickets"],
    results_df["cv"],
    "s-",
    linewidth=2,
    markersize=8,
    color="red",
)
plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.ylabel("–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏ (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)")
plt.title("–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å vs –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.grid(True)
plt.yscale("log")

# 3. –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏ vs –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞
plt.subplot(2, 2, 3)
plt.scatter(
    results_df["p_at_least_one_win"],
    results_df["expected_loss"],
    s=results_df["total_cost"] / 10,
    alpha=0.7,
    c=results_df["num_tickets"],
    cmap="viridis",
    edgecolors="black",
)
plt.xlabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞")
plt.ylabel("–û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏ (—Ä—É–±.)")
plt.title("–û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏ vs –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞")
plt.colorbar(label="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.grid(True)

# 4. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –≤—ã–∏–≥—Ä—ã—à–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
plt.subplot(2, 2, 4)
bet_names = results_df["bet_type"].tolist()
p_no_win = [0.6915289505**num for num in results_df["num_tickets"]]
p_small_win = [
    1 - p_no_win[i] for i in range(len(p_no_win))
]  # –£–ø—Ä–æ—â–µ–Ω–Ω–æ: –ª—é–±–æ–π –≤—ã–∏–≥—Ä—ã—à –∫—Ä–æ–º–µ –¥–∂–µ–∫–ø–æ—Ç–∞

x = np.arange(len(bet_names))
width = 0.35

bars1 = plt.bar(
    x - width / 2, p_no_win, width, label="–ù–µ—Ç –≤—ã–∏–≥—Ä—ã—à–∞", color="red", alpha=0.7
)
bars2 = plt.bar(
    x + width / 2, p_small_win, width, label="–ï—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à", color="green", alpha=0.7
)

plt.xlabel("–¢–∏–ø —Å—Ç–∞–≤–∫–∏")
plt.ylabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
plt.title("–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –≤—ã–∏–≥—Ä—ã—à–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫")
plt.xticks(x, bet_names, rotation=45)
plt.legend()
plt.grid(axis="y", linestyle="--", alpha=0.7)

plt.tight_layout()

# –ê–Ω–∞–ª–∏–∑ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤
player_types = {
    "–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫": {
        "risk_tolerance": "–æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è",
        "goal": "–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ç–µ—Ä—å, —á–∞—Å—Ç—ã–µ –º–µ–ª–∫–∏–µ –≤—ã–∏–≥—Ä—ã—à–∏",
        "recommended_bet": "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (1 –±–∏–ª–µ—Ç)",
        "reasoning": '–ù–∏–∑–∫–∏–µ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ "–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ö–æ–¥–∞"',
        "win_probability": results_df.loc[
            results_df["bet_type"] == "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (1 –±–∏–ª–µ—Ç)", "p_at_least_one_win"
        ].values[0],
        "expected_loss": results_df.loc[
            results_df["bet_type"] == "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (1 –±–∏–ª–µ—Ç)", "expected_loss"
        ].values[0],
    },
    "–£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–≥—Ä–æ–∫": {
        "risk_tolerance": "—Å—Ä–µ–¥–Ω—è—è",
        "goal": "–±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∏—Å–∫–æ–º –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –≤—ã–∏–≥—Ä—ã—à–µ–º",
        "recommended_bet": "–°—Ä–µ–¥–Ω—è—è (10 –±–∏–ª–µ—Ç–æ–≤)",
        "reasoning": "–í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ (97%) –ø—Ä–∏ —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –æ–∂–∏–¥–∞–µ–º—ã—Ö –ø–æ—Ç–µ—Ä—è—Ö",
        "win_probability": results_df.loc[
            results_df["bet_type"] == "–°—Ä–µ–¥–Ω—è—è (10 –±–∏–ª–µ—Ç–æ–≤)", "p_at_least_one_win"
        ].values[0],
        "expected_loss": results_df.loc[
            results_df["bet_type"] == "–°—Ä–µ–¥–Ω—è—è (10 –±–∏–ª–µ—Ç–æ–≤)", "expected_loss"
        ].values[0],
    },
    "–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫": {
        "risk_tolerance": "–≤—ã—Å–æ–∫–∞—è",
        "goal": "–º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è —à–∞–Ω—Å–∞ –Ω–∞ –∫—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à (–¥–∂–µ–∫–ø–æ—Ç)",
        "recommended_bet": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)",
        "reasoning": "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–∂–µ–∫–ø–æ—Ç–∞ (—Ö–æ—Ç—è –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –∫—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–æ–π)",
        "win_probability": results_df.loc[
            results_df["bet_type"] == "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)", "p_at_least_one_win"
        ].values[0],
        "expected_loss": results_df.loc[
            results_df["bet_type"] == "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)", "expected_loss"
        ].values[0],
        "jackpot_probability": results_df.loc[
            results_df["bet_type"] == "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)", "p_jackpot"
        ].values[0],
    },
    "–ò–≥—Ä–æ–∫-—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å": {
        "risk_tolerance": "–Ω–∏–∑–∫–∞—è-—Å—Ä–µ–¥–Ω—è—è",
        "goal": "–º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è –æ—Ç –∏–≥—Ä—ã –ø—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã—Ö –ø–æ—Ç–µ—Ä—è—Ö",
        "recommended_bet": "–ù–µ–±–æ–ª—å—à–∞—è (5 –±–∏–ª–µ—Ç–æ–≤)",
        "reasoning": "–•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å: 85% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –ø—Ä–∏ —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ—Ç–µ—Ä—è—Ö",
        "win_probability": results_df.loc[
            results_df["bet_type"] == "–ù–µ–±–æ–ª—å—à–∞—è (5 –±–∏–ª–µ—Ç–æ–≤)", "p_at_least_one_win"
        ].values[0],
        "expected_loss": results_df.loc[
            results_df["bet_type"] == "–ù–µ–±–æ–ª—å—à–∞—è (5 –±–∏–ª–µ—Ç–æ–≤)", "expected_loss"
        ].values[0],
    },
}

# –°–æ–∑–¥–∞–Ω–∏–µ DataFrame –¥–ª—è —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤
players_df = pd.DataFrame.from_dict(player_types, orient="index")
players_df = players_df.reset_index().rename(columns={"index": "–¢–∏–ø –∏–≥—Ä–æ–∫–∞"})

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
players_df["win_probability"] = players_df["win_probability"].apply(
    lambda x: f"{x:.2%}"
)
players_df["expected_loss"] = players_df["expected_loss"].apply(lambda x: f"{x:,.2f}")
if "jackpot_probability" in players_df.columns:
    players_df["jackpot_probability"] = players_df["jackpot_probability"].fillna("N/A")
    players_df["jackpot_probability"] = players_df["jackpot_probability"].apply(
        lambda x: f"{x:.8%}" if x != "N/A" else x
    )

print("\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤:")
print(
    players_df[
        [
            "–¢–∏–ø –∏–≥—Ä–æ–∫–∞",
            "risk_tolerance",
            "goal",
            "recommended_bet",
            "win_probability",
            "expected_loss",
            "reasoning",
        ]
    ].to_string(index=False)
)

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤
plt.figure(figsize=(12, 8))

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ "—Ä–∏—Å–∫-–ø—Ä–∏–±—ã–ª—å" –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤
risk_levels = {"–æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è": 1, "–Ω–∏–∑–∫–∞—è-—Å—Ä–µ–¥–Ω—è—è": 2, "—Å—Ä–µ–¥–Ω—è—è": 3, "–≤—ã—Å–æ–∫–∞—è": 4}
player_risks = [
    risk_levels[player["risk_tolerance"]] for player in player_types.values()
]
player_expected_losses = [
    results_df.loc[
        results_df["bet_type"] == player["recommended_bet"], "expected_loss"
    ].values[0]
    for player in player_types.values()
]
player_win_probs = [
    results_df.loc[
        results_df["bet_type"] == player["recommended_bet"], "p_at_least_one_win"
    ].values[0]
    for player in player_types.values()
]

plt.scatter(
    player_risks,
    player_win_probs,
    s=[abs(x) * 10 for x in player_expected_losses],
    alpha=0.7,
    c=range(len(player_types)),
    cmap="viridis",
    edgecolors="black",
)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–µ–π
for i, (player_type, player_info) in enumerate(player_types.items()):
    plt.annotate(
        player_type,
        (player_risks[i], player_win_probs[i]),
        xytext=(10, 10),
        textcoords="offset points",
    )

plt.xlabel("–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞ (1-4)")
plt.ylabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞")
plt.title("–ü—Ä–æ—Ñ–∏–ª—å —Ä–∏—Å–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤\n(—Ä–∞–∑–º–µ—Ä —Ç–æ—á–∫–∏ = –æ–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏)")
plt.grid(True)
plt.xticks([1, 2, 3, 4], ["–û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π", "–ù–∏–∑–∫–æ-—Å—Ä–µ–¥–Ω–∏–π", "–°—Ä–µ–¥–Ω–∏–π", "–í—ã—Å–æ–∫–∏–π"])
plt.colorbar(label="–¢–∏–ø –∏–≥—Ä–æ–∫–∞")

plt.tight_layout()
```

    –ò–≥—Ä–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å—Ç–∞–≤–æ–∫:
                     bet_type  num_tickets total_cost expected_win expected_loss p_at_least_one_win   p_jackpot p_last_move   std_dev        cv actual_rtp
        –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (1 –±–∏–ª–µ—Ç)            1         75        37.50         37.50             30.85% 0.00000311%      30.84%  1,762.70 47.005288      50.0%
        –ù–µ–±–æ–ª—å—à–∞—è (5 –±–∏–ª–µ—Ç–æ–≤)            5        375       187.50        187.50             84.19% 0.00001553%      84.17%  3,941.51 21.021404      50.0%
         –°—Ä–µ–¥–Ω—è—è (10 –±–∏–ª–µ—Ç–æ–≤)           10        750       375.00        375.00             97.50% 0.00003105%      97.50%  5,574.14 14.864377      50.0%
         –ë–æ–ª—å—à–∞—è (20 –±–∏–ª–µ—Ç–æ–≤)           20      1,500       750.00        750.00             99.94% 0.00006210%      99.94%  7,883.03 10.510702      50.0%
    –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)           50      3,750     1,875.00      1,875.00            100.00% 0.00015526%     100.00% 12,464.16  6.647552      50.0%
    
    –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤:
              –¢–∏–ø –∏–≥—Ä–æ–∫–∞ risk_tolerance                                                         goal           recommended_bet win_probability expected_loss                                                                     reasoning
    –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫   –æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è                   –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Ç–µ—Ä—å, —á–∞—Å—Ç—ã–µ –º–µ–ª–∫–∏–µ –≤—ã–∏–≥—Ä—ã—à–∏     –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è (1 –±–∏–ª–µ—Ç)          30.85%         37.50 –ù–∏–∑–∫–∏–µ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ "–ü–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ö–æ–¥–∞"
         –£–º–µ—Ä–µ–Ω–Ω—ã–π –∏–≥—Ä–æ–∫        —Å—Ä–µ–¥–Ω—è—è                –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∏—Å–∫–æ–º –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –≤—ã–∏–≥—Ä—ã—à–µ–º      –°—Ä–µ–¥–Ω—è—è (10 –±–∏–ª–µ—Ç–æ–≤)          97.50%        375.00            –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ (97%) –ø—Ä–∏ —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –æ–∂–∏–¥–∞–µ–º—ã—Ö –ø–æ—Ç–µ—Ä—è—Ö
       –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –∏–≥—Ä–æ–∫        –≤—ã—Å–æ–∫–∞—è              –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è —à–∞–Ω—Å–∞ –Ω–∞ –∫—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à (–¥–∂–µ–∫–ø–æ—Ç) –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è (50 –±–∏–ª–µ—Ç–æ–≤)         100.00%      1,875.00             –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–∂–µ–∫–ø–æ—Ç–∞ (—Ö–æ—Ç—è –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –∫—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–æ–π)
      –ò–≥—Ä–æ–∫-—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å –Ω–∏–∑–∫–∞—è-—Å—Ä–µ–¥–Ω—è—è –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è –æ—Ç –∏–≥—Ä—ã –ø—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã—Ö –ø–æ—Ç–µ—Ä—è—Ö     –ù–µ–±–æ–ª—å—à–∞—è (5 –±–∏–ª–µ—Ç–æ–≤)          84.19%        187.50                –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å: 85% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –ø—Ä–∏ —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ—Ç–µ—Ä—è—Ö



    
![png](3_Syrov_files/3_Syrov_7_1.png)
    



    
![png](3_Syrov_files/3_Syrov_7_2.png)
    


## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ –∏–≥—Ä–æ–≤—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º

### 1. –ü—Ä–æ—Ü–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ (RTP)
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞–≤–æ–∫:** 50% –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤
- **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–≥—Ä–æ–∫ —Ç–µ—Ä—è–µ—Ç –≤ —Å—Ä–µ–¥–Ω–µ–º 37.5 —Ä—É–±. —Å –∫–∞–∂–¥–æ–≥–æ –±–∏–ª–µ—Ç–∞
- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏:** –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã —Ä–∞–∑–º–µ—Ä—É —Å—Ç–∞–≤–∫–∏:
  - 1 –±–∏–ª–µ—Ç = 37.5 —Ä—É–±. –ø–æ—Ç–µ—Ä—å
  - 10 –±–∏–ª–µ—Ç–æ–≤ = 375 —Ä—É–±. –ø–æ—Ç–µ—Ä—å
  - 50 –±–∏–ª–µ—Ç–æ–≤ = 1,875 —Ä—É–±. –ø–æ—Ç–µ—Ä—å

### 2. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞
| –¢–∏–ø —Å—Ç–∞–≤–∫–∏ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ | –û—Å–Ω–æ–≤–Ω–æ–π –≤—ã–∏–≥—Ä—ã—à |
|------------|-------------------|---------------------|------------------|
| –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | 1 | 32.21% | 116.86 —Ä—É–±. (30.84%) |
| –ù–µ–±–æ–ª—å—à–∞—è | 5 | 85.04% | 116.86 —Ä—É–±. (81.68%) |
| –°—Ä–µ–¥–Ω—è—è | 10 | 97.18% | 116.86 —Ä—É–±. (96.96%) |
| –ë–æ–ª—å—à–∞—è | 20 | 99.67% | 116.86 —Ä—É–±. (99.62%) |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | 50 | >99.99% | 116.86 —Ä—É–±. (>99.99%) |

**–í–∞–∂–Ω—ã–π –≤—ã–≤–æ–¥:** –£–∂–µ –ø—Ä–∏ 10 –±–∏–ª–µ—Ç–∞—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 97%, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–≥—Ä—É "–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π" –¥–ª—è —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤.

### 3. –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏)
| –¢–∏–ø —Å—Ç–∞–≤–∫–∏ | CV (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∞—Ä–∏–∞—Ü–∏–∏) | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ |
|------------|---------------------------|----------------|
| –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | 47.01 | –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∞—è |
| –ù–µ–±–æ–ª—å—à–∞—è | 20.96 | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è |
| –°—Ä–µ–¥–Ω—è—è | 14.86 | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è |
| –ë–æ–ª—å—à–∞—è | 10.51 | –í—ã—Å–æ–∫–∞—è |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è | 6.64 | –í—ã—Å–æ–∫–∞—è |

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** –î–∞–∂–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–≤–∫–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤—ã—Å–æ–∫–æ–π, —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–π –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ.

### 4. –°—Ä–µ–¥–Ω—è—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã
- **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª—è –≤—Å–µ—Ö —Å—Ç–∞–≤–æ–∫:** 72 —Ö–æ–¥–∞
- **–û—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö –∞–∑–∞—Ä—Ç–Ω—ã—Ö –∏–≥—Ä:** –í –ª–æ—Ç–µ—Ä–µ–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞–≤–∫–∏
- **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞—Å–ø–µ–∫—Ç:** –î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–æ–∫–æ–ª–æ 2 —á–∞—Å–æ–≤) —Å–æ–∑–¥–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–∑–∞—Ä—Ç

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–∫–æ–≤

### üî¥ –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ (–Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫)
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** 1-2 –±–∏–ª–µ—Ç–∞ –∑–∞ —Ç–∏—Ä–∞–∂
- **–ü–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç:**
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ (37.5-75 —Ä—É–±.)
  - –ù–∏–∑–∫–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
  - 32% —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π –≤—ã–∏–≥—Ä—ã—à (116.86 —Ä—É–±.)
- **–ö–ª—é—á–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å:** –ü—Ä–∏–µ–º–ª–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —à–∞–Ω—Å–∞ –Ω–∞ –≤—ã–∏–≥—Ä—ã—à

### üü° –£–º–µ—Ä–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ (–±–∞–ª–∞–Ω—Å —Ä–∏—Å–∫–∞ –∏ –≤—ã–∏–≥—Ä—ã—à–∞)
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** 5-10 –±–∏–ª–µ—Ç–æ–≤ –∑–∞ —Ç–∏—Ä–∞–∂
- **–ü–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç:**
  - –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ (85-97%)
  - –£–º–µ—Ä–µ–Ω–Ω—ã–µ –æ–∂–∏–¥–∞–µ–º—ã–µ –ø–æ—Ç–µ—Ä–∏ (187.5-375 —Ä—É–±.)
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–∏—è –≤–æ –≤—Å–µ—Ö —Ç—É—Ä–∞—Ö —Ä–æ–∑—ã–≥—Ä—ã—à–∞
- **–ö–ª—é—á–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å:** –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ—Ç–µ—Ä—å

### üü¢ –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫)
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** 20-50+ –±–∏–ª–µ—Ç–æ–≤ –∑–∞ —Ç–∏—Ä–∞–∂
- **–ü–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç:**
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ (>99.67%)
  - –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —à–∞–Ω—Å–∞ –Ω–∞ –¥–∂–µ–∫–ø–æ—Ç (—Ö–æ—Ç—è –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –∫—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–∏–º)
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç—É—Ä–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–†–∏—Å–∫–∏:** –í—ã—Å–æ–∫–∏–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏ (1,500-3,750 —Ä—É–±. –∑–∞ —Ç–∏—Ä–∞–∂)
- **–í–∞–∂–Ω–æ:** –î–∞–∂–µ –ø—Ä–∏ 50 –±–∏–ª–µ—Ç–∞—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–∂–µ–∫–ø–æ—Ç–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ–≥–æ 0.000155%

### üîµ –ò–≥—Ä–æ–∫–∏-—Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª–∏
- **–°—Ç—Ä–∞—Ç–µ–≥–∏—è:** 5 –±–∏–ª–µ—Ç–æ–≤ –∑–∞ —Ç–∏—Ä–∞–∂ —Å –∂–µ—Å—Ç–∫–∏–º –±—é–¥–∂–µ—Ç–æ–º (300-500 —Ä—É–±. –≤ –Ω–µ–¥–µ–ª—é)
- **–ü–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥–∏—Ç:**
  - –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ (85%)
  - –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—é–¥–∂–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
  - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ—Ü–∏–π –æ—Ç –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Ä–æ–∑—ã–≥—Ä—ã—à–∞
- **–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:** –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ—Ç–µ—Ä–∏ –∫–∞–∫ –ø–ª–∞—Ç—É –∑–∞ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ

## –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –≤—ã–≤–æ–¥—ã

1. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å RTP –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞–≤–∫–∏:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤ –ø–æ–≤—ã—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞, –Ω–æ –Ω–µ –º–µ–Ω—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞.

2. **–ò–ª–ª—é–∑–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è:** –ú–Ω–æ–≥–∏–µ –∏–≥—Ä–æ–∫–∏ –æ—à–∏–±–æ—á–Ω–æ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ –ø–æ–∫—É–ø–∫–∞ –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤ "–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç" –≤—ã–∏–≥—Ä—ã—à, –∑–∞–±—ã–≤–∞—è –æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –æ–∂–∏–¥–∞–µ–º—ã—Ö –ø–æ—Ç–µ—Ä—å.

3. **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ñ–∞–∫—Ç–æ—Ä:** –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã (72 —Ö–æ–¥–∞) —Å–æ–∑–¥–∞–µ—Ç –∏–ª–ª—é–∑–∏—é –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ –≤—ã–≥–æ–¥–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–∞–º.

4. **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–≥—Ä–∞:** –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –∏–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω:
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∂–µ—Å—Ç–∫–∏–µ –±—é–¥–∂–µ—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
   - –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ª–æ—Ç–µ—Ä–µ—é –∫–∞–∫ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ, –∞ –Ω–µ —Å–ø–æ—Å–æ–± –∑–∞—Ä–∞–±–æ—Ç–∫–∞
   - –ü–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ

## 2 –ò–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
### 2.1 –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏–≥—Ä—ã –ø—É—Ç–µ–º –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–±–µ–¥–∏—Ç—å—Å—è –≤ –µ–µ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç–∏ –ø—É—Ç–µ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –µ–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –ø–æ –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ —Å —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–º–∏. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞–≤–∫–∏.



```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from scipy import stats
from tqdm import tqdm  # –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
plt.rcParams["figure.figsize"] = (12, 8)
plt.rcParams["font.size"] = 12
sns.set_palette("husl")

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã
TICKET_COST = 75  # —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞ –≤ —Ä—É–±–ª—è—Ö
THEORETICAL_RTP = 0.5  # —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞ (–∏–∑ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤)
WIN_AMOUNTS = np.array([0, 50, 100, 116.86, 200, 10000000])
WIN_PROBABILITIES = np.array(
    [
        0.6915289505,  # 0 —Ä—É–±.
        0.0168456127,  # 50 —Ä—É–±.
        0.0028986626,  # 100 —Ä—É–±.
        0.3083745138,  # 116.86 —Ä—É–±.
        9.650463e-5,  # 200 —Ä—É–±.
        3.1051699e-8,  # 10 –º–ª–Ω —Ä—É–±.
    ]
)

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ–≥–æ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ 1
WIN_PROBABILITIES = WIN_PROBABILITIES / np.sum(WIN_PROBABILITIES)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É–º–º—ã –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
print(f"–°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: {np.sum(WIN_PROBABILITIES):.10f}")
assert np.isclose(
    np.sum(WIN_PROBABILITIES), 1.0, atol=1e-10
), "–°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –Ω–µ —Ä–∞–≤–Ω–∞ 1 –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏"

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞
THEORETICAL_EXPECTED_WIN = np.sum(WIN_AMOUNTS * WIN_PROBABILITIES)
THEORETICAL_VARIANCE = np.sum(
    WIN_PROBABILITIES * (WIN_AMOUNTS - THEORETICAL_EXPECTED_WIN) ** 2
)
THEORETICAL_STD = np.sqrt(THEORETICAL_VARIANCE)
THEORETICAL_WIN_PROB = 1 - WIN_PROBABILITIES[0]  # –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞

print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞ (–ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏):")
print(f"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞: {THEORETICAL_EXPECTED_WIN:.4f} —Ä—É–±.")
print(f"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: {THEORETICAL_STD:.4f} —Ä—É–±.")
print(f"–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞: {THEORETICAL_WIN_PROB:.4%}")
print(f"RTP: {THEORETICAL_EXPECTED_WIN/TICKET_COST:.2%}\n")


def simulate_lottery(num_tickets, num_simulations=100000, random_seed=42):
    """
    –°–∏–º—É–ª–∏—Ä—É–µ—Ç –ª–æ—Ç–µ—Ä–µ—é '–ë–∏–Ω–≥–æ-75' –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∏–ª–µ—Ç–æ–≤ –∏ —Å–∏–º—É–ª—è—Ü–∏–π

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    num_tickets (int): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ –≤ –æ–¥–Ω–æ–π —Å—Ç–∞–≤–∫–µ
    num_simulations (int): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π
    random_seed (int): seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    dict: —Å–ª–æ–≤–∞—Ä—å —Å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
    """
    np.random.seed(random_seed)

    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    total_wins = np.zeros(num_simulations)
    win_counts = np.zeros(num_simulations)

    # –°–∏–º—É–ª—è—Ü–∏—è –∫–∞–∂–¥–æ–π –∏–≥—Ä—ã
    for i in tqdm(
        range(num_simulations), desc=f"–°–∏–º—É–ª—è—Ü–∏—è –¥–ª—è {num_tickets} –±–∏–ª–µ—Ç–æ–≤", leave=False
    ):
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è –≤—Å–µ—Ö –±–∏–ª–µ—Ç–æ–≤ –≤ –æ–¥–Ω–æ–π –∏–≥—Ä–µ
        ticket_wins = np.random.choice(
            WIN_AMOUNTS, size=num_tickets, p=WIN_PROBABILITIES
        )

        # –û–±—â–∏–π –≤—ã–∏–≥—Ä—ã—à –≤ —ç—Ç–æ–π –∏–≥—Ä–µ
        total_wins[i] = np.sum(ticket_wins)

        # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ —Å –≤—ã–∏–≥—Ä—ã—à–µ–º (–Ω–µ–Ω—É–ª–µ–≤–æ–π –≤—ã–∏–≥—Ä—ã—à)
        win_counts[i] = np.sum(ticket_wins > 0)

    # –†–∞—Å—á–µ—Ç —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
    empirical_expected_win = np.mean(total_wins)
    empirical_std = np.std(total_wins, ddof=1)
    empirical_rtp = empirical_expected_win / (num_tickets * TICKET_COST)

    # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –≤ —Å—Ç–∞–≤–∫–µ
    empirical_win_prob = np.mean(win_counts > 0)

    # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –¥–∂–µ–∫–ø–æ—Ç–∞ –≤ —Å—Ç–∞–≤–∫–µ
    num_jackpots = np.sum(total_wins >= 10000000)
    empirical_jackpot_prob = num_jackpots / num_simulations

    # –î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã (95%)
    ci_expected_win = stats.t.interval(
        0.95,
        num_simulations - 1,
        loc=empirical_expected_win,
        scale=empirical_std / np.sqrt(num_simulations),
    )

    return {
        "num_tickets": num_tickets,
        "total_cost": num_tickets * TICKET_COST,
        "empirical_expected_win": empirical_expected_win,
        "theoretical_expected_win": num_tickets * THEORETICAL_EXPECTED_WIN,
        "empirical_std": empirical_std,
        "theoretical_std": np.sqrt(num_tickets) * THEORETICAL_STD,
        "empirical_rtp": empirical_rtp,
        "theoretical_rtp": THEORETICAL_RTP,
        "empirical_win_prob": empirical_win_prob,
        "theoretical_win_prob": 1 - (1 - THEORETICAL_WIN_PROB) ** num_tickets,
        "empirical_jackpot_prob": empirical_jackpot_prob,
        "theoretical_jackpot_prob": 1 - (1 - WIN_PROBABILITIES[-1]) ** num_tickets,
        "ci_expected_win": ci_expected_win,
        "all_wins": total_wins,  # –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
    }


# –¢–∏–ø—ã —Å—Ç–∞–≤–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
BET_TYPES = [1, 5, 10, 20, 50]
NUM_SIMULATIONS = 100000  # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π

# –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å—Ç–∞–≤–æ–∫
results = []
for num_tickets in BET_TYPES:
    result = simulate_lottery(num_tickets, num_simulations=NUM_SIMULATIONS)
    results.append(result)

# –°–æ–∑–¥–∞–Ω–∏–µ DataFrame –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
comparison_data = []
for res in results:
    comparison_data.append(
        {
            "–¢–∏–ø —Å—Ç–∞–≤–∫–∏": f"{res['num_tickets']} –±–∏–ª–µ—Ç–æ–≤",
            "–°—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏": res["total_cost"],
            "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞": res["theoretical_expected_win"],
            "–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞": res["empirical_expected_win"],
            "–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ MO": (
                res["empirical_expected_win"] - res["theoretical_expected_win"]
            )
            / res["theoretical_expected_win"],
            "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞": res["theoretical_win_prob"],
            "–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞": res["empirical_win_prob"],
            "–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏": (
                res["empirical_win_prob"] - res["theoretical_win_prob"]
            )
            / res["theoretical_win_prob"],
            "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP": res["theoretical_rtp"],
            "–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π RTP": res["empirical_rtp"],
            "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –°–ö–û": res["theoretical_std"],
            "–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –°–ö–û": res["empirical_std"],
        }
    )

comparison_df = pd.DataFrame(comparison_data)

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
formatted_df = comparison_df.copy()
formatted_df["–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞"] = formatted_df[
    "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞"
].apply(lambda x: f"{x:,.2f}")
formatted_df["–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞"] = formatted_df[
    "–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞"
].apply(lambda x: f"{x:,.2f}")
formatted_df["–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ MO"] = formatted_df[
    "–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ MO"
].apply(lambda x: f"{x:.2%}")
formatted_df["–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞"] = formatted_df[
    "–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞"
].apply(lambda x: f"{x:.2%}")
formatted_df["–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞"] = formatted_df[
    "–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞"
].apply(lambda x: f"{x:.2%}")
formatted_df["–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏"] = formatted_df[
    "–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏"
].apply(lambda x: f"{x:.2%}")
formatted_df["–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP"] = formatted_df["–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP"].apply(
    lambda x: f"{x:.1%}"
)
formatted_df["–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π RTP"] = formatted_df["–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π RTP"].apply(
    lambda x: f"{x:.1%}"
)
formatted_df["–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –°–ö–û"] = formatted_df["–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –°–ö–û"].apply(
    lambda x: f"{x:,.2f}"
)
formatted_df["–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –°–ö–û"] = formatted_df["–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –°–ö–û"].apply(
    lambda x: f"{x:,.2f}"
)

print("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫:")
print(formatted_df.to_string(index=False))

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
plt.figure(figsize=(15, 10))

# 1. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
plt.subplot(2, 2, 1)
x = np.arange(len(BET_TYPES))
width = 0.35

theoretical_mo = [res["theoretical_expected_win"] for res in results]
empirical_mo = [res["empirical_expected_win"] for res in results]

plt.bar(x - width / 2, theoretical_mo, width, label="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ", alpha=0.8)
plt.bar(x + width / 2, empirical_mo, width, label="–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ", alpha=0.8)

plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.ylabel("–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞ (—Ä—É–±.)")
plt.title("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–≥–æ MO")
plt.xticks(x, BET_TYPES)
plt.legend()
plt.grid(axis="y", linestyle="--", alpha=0.7)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞–¥ —Å—Ç–æ–ª–±—Ü–∞–º–∏
for i, (theo, emp) in enumerate(zip(theoretical_mo, empirical_mo)):
    plt.text(i - width / 2, theo + 10, f"{theo:,.0f}", ha="center", fontsize=8)
    plt.text(i + width / 2, emp + 10, f"{emp:,.0f}", ha="center", fontsize=8)

# 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞
plt.subplot(2, 2, 2)
theoretical_probs = [res["theoretical_win_prob"] for res in results]
empirical_probs = [res["empirical_win_prob"] for res in results]

plt.plot(
    BET_TYPES, theoretical_probs, "o-", linewidth=2, markersize=8, label="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è"
)
plt.plot(
    BET_TYPES, empirical_probs, "s--", linewidth=2, markersize=8, label="–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∞—è"
)

plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.ylabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞")
plt.title("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞")
plt.xscale("log")
plt.grid(True)
plt.legend()

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
for i, (bet, theo, emp) in enumerate(
    zip(BET_TYPES, theoretical_probs, empirical_probs)
):
    plt.annotate(f"{theo:.1%}", (bet, theo), xytext=(5, 5), textcoords="offset points")
    plt.annotate(f"{emp:.1%}", (bet, emp), xytext=(5, -15), textcoords="offset points")

# 3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
plt.subplot(2, 2, 3)
sample_sizes = [1, 5, 10, 20]

# –í—ã–±–∏—Ä–∞–µ–º –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
sample_data = []
for res in results:
    if res["num_tickets"] in sample_sizes:
        wins_sample = np.random.choice(
            res["all_wins"], size=min(1000, len(res["all_wins"])), replace=False
        )
        for win in wins_sample:
            sample_data.append(
                {"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤": res["num_tickets"], "–í—ã–∏–≥—Ä—ã—à": win}
            )

sample_df = pd.DataFrame(sample_data)

sns.boxplot(x="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤", y="–í—ã–∏–≥—Ä—ã—à", data=sample_df, showfliers=False)
plt.yscale("log")
plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.ylabel("–í—ã–∏–≥—Ä—ã—à (—Ä—É–±., –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞)")
plt.title("–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫")
plt.grid(axis="y", linestyle="--", alpha=0.7)

# 4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (–°–ö–û)
plt.subplot(2, 2, 4)
theoretical_std = [res["theoretical_std"] for res in results]
empirical_std = [res["empirical_std"] for res in results]

plt.plot(
    BET_TYPES,
    theoretical_std,
    "o-",
    linewidth=2,
    markersize=8,
    label="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –°–ö–û",
)
plt.plot(
    BET_TYPES, empirical_std, "s--", linewidth=2, markersize=8, label="–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –°–ö–û"
)

plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤")
plt.ylabel("–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (—Ä—É–±.)")
plt.title("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (–°–ö–û)")
plt.xscale("log")
plt.yscale("log")
plt.grid(True, which="both", ls="-")
plt.legend()

plt.tight_layout()

# –ê–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Å–∏–º—É–ª—è—Ü–∏–∏
accuracy_data = []
for res in results:
    mo_error = (
        abs(res["empirical_expected_win"] - res["theoretical_expected_win"])
        / res["theoretical_expected_win"]
    )
    prob_error = (
        abs(res["empirical_win_prob"] - res["theoretical_win_prob"])
        / res["theoretical_win_prob"]
    )

    accuracy_data.append(
        {
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤": res["num_tickets"],
            "–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ MO (—Ä—É–±.)": abs(
                res["empirical_expected_win"] - res["theoretical_expected_win"]
            ),
            "–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ MO": mo_error,
            "–ê–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏": abs(
                res["empirical_win_prob"] - res["theoretical_win_prob"]
            ),
            "–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏": prob_error,
        }
    )

accuracy_df = pd.DataFrame(accuracy_data)

print("\n–¢–æ—á–Ω–æ—Å—Ç—å –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏:")
print(accuracy_df.to_string(index=False))

print(
    f"   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è: {accuracy_df['–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ MO'].max():.2%}"
)
print(
    f"   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: {accuracy_df['–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏'].max():.2%}"
)
print("   - –ú–æ–¥–µ–ª—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ 100,000 —Å–∏–º—É–ª—è—Ü–∏—è—Ö")
```

    –°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: 1.0000000000
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞ (–ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏):
    –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞: 36.7726 —Ä—É–±.
    –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ: 1745.8232 —Ä—É–±.
    –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞: 32.1860%
    RTP: 49.03%
    


                                                                                       

    –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫:
    –¢–∏–ø —Å—Ç–∞–≤–∫–∏  –°—Ç–æ–∏–º–æ—Å—Ç—å —Å—Ç–∞–≤–∫–∏ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞ –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π MO –≤—ã–∏–≥—Ä—ã—à–∞ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ MO –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π RTP –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ –°–ö–û –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –°–ö–û
     1 –±–∏–ª–µ—Ç–æ–≤                75                     36.77                    36.36                      -1.13%                             32.19%                            32.09%                               -0.29%             50.0%            48.5%          1,745.82            53.55
     5 –±–∏–ª–µ—Ç–æ–≤               375                    183.86                   182.27                      -0.87%                             85.66%                            85.62%                               -0.04%             50.0%            48.6%          3,903.78           119.94
    10 –±–∏–ª–µ—Ç–æ–≤               750                    367.73                   364.90                      -0.77%                             97.94%                            98.01%                                0.07%             50.0%            48.7%          5,520.78           169.27
    20 –±–∏–ª–µ—Ç–æ–≤              1500                    735.45                   728.37                      -0.96%                             99.96%                            99.97%                                0.01%             50.0%            48.6%          7,807.56           239.91
    50 –±–∏–ª–µ—Ç–æ–≤              3750                  1,838.63                 1,822.95                      -0.85%                            100.00%                           100.00%                                0.00%             50.0%            48.6%         12,344.83           379.37
    
    –¢–æ—á–Ω–æ—Å—Ç—å –∏–º–∏—Ç–∞—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏:
     –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤  –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ MO (—Ä—É–±.)  –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ MO  –ê–±—Å–æ–ª—é—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏  –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
                      1                     0.414151                 0.011262                   9.304240e-04                      2.890768e-03
                      5                     1.591762                 0.008657                   3.847111e-04                      4.491221e-04
                     10                     2.825606                 0.007684                   6.879451e-04                      7.023918e-04
                     20                     7.080166                 0.009627                   1.130404e-04                      1.130882e-04
                     50                    15.674012                 0.008525                   3.680904e-09                      3.680904e-09
       - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è: 1.13%
       - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: 0.29%
       - –ú–æ–¥–µ–ª—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ 100,000 —Å–∏–º—É–ª—è—Ü–∏—è—Ö



    
![png](3_Syrov_files/3_Syrov_10_3.png)
    


### 2.2 –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π –∏ –∑–∞–∫–æ–Ω–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º —á–∏—Å–ª–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π.


```python
plt.rcParams["figure.figsize"] = (14, 10)
plt.rcParams["font.size"] = 12
sns.set_palette("husl")
# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–≥—Ä—ã
TICKET_COST = 75  # —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–∏–ª–µ—Ç–∞ –≤ —Ä—É–±–ª—è—Ö

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞
WIN_AMOUNTS = np.array([0, 50, 100, 116.86, 200, 10000000])
WIN_PROBABILITIES = np.array(
    [
        0.6915289505,  # 0 —Ä—É–±.
        0.0168456127,  # 50 —Ä—É–±.
        0.0028986626,  # 100 —Ä—É–±.
        0.3083745138,  # 116.86 —Ä—É–±.
        9.650463e-5,  # 200 —Ä—É–±.
        3.1051699e-8,  # 10 –º–ª–Ω —Ä—É–±.
    ]
)

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
WIN_PROBABILITIES = WIN_PROBABILITIES / np.sum(WIN_PROBABILITIES)

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
THEORETICAL_EXPECTED_WIN = np.sum(WIN_AMOUNTS * WIN_PROBABILITIES)
THEORETICAL_CDF = np.cumsum(WIN_PROBABILITIES)

print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞:")
print(f"–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞: {THEORETICAL_EXPECTED_WIN:.4f} —Ä—É–±.")
print(f"–°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: {np.sum(WIN_PROBABILITIES):.10f}\n")


def simulate_distribution(num_simulations, random_seed=42):
    """
    –°–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–µ–π –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    num_simulations (int): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π
    random_seed (int): seed –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    dict: —Å–ª–æ–≤–∞—Ä—å —Å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
    """
    np.random.seed(random_seed)

    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–∏–≥—Ä—ã—à–µ–π
    simulated_wins = np.random.choice(
        WIN_AMOUNTS, size=num_simulations, p=WIN_PROBABILITIES
    )

    # –†–∞—Å—á–µ—Ç —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
    empirical_probs = np.zeros_like(WIN_AMOUNTS, dtype=float)
    for i, amount in enumerate(WIN_AMOUNTS):
        empirical_probs[i] = np.mean(simulated_wins == amount)

    # –†–∞—Å—á–µ—Ç —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–π CDF
    empirical_cdf = np.cumsum(empirical_probs)

    # –†–∞—Å—á–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
    empirical_expected = np.mean(simulated_wins)

    return {
        "num_simulations": num_simulations,
        "simulated_wins": simulated_wins,
        "empirical_probs": empirical_probs,
        "empirical_cdf": empirical_cdf,
        "empirical_expected": empirical_expected,
        "theoretical_expected": THEORETICAL_EXPECTED_WIN,
    }


# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏
SIMULATION_LEVELS = [100, 1000, 10000, 100000]

# –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π
simulation_results = []
for n in SIMULATION_LEVELS:
    result = simulate_distribution(n)
    simulation_results.append(result)
    print(
        f"–°–∏–º—É–ª—è—Ü–∏—è —Å {n:,} —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –≠–º–ø. MO: {result['empirical_expected']:.4f} —Ä—É–±."
    )

# 1. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö –∏ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
plt.figure(figsize=(15, 12))

# 1.1 –ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (PMF) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π
plt.subplot(2, 2, 1)
x = np.arange(len(WIN_AMOUNTS))
width = 0.2

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
plt.bar(
    x - 1.5 * width,
    WIN_PROBABILITIES,
    width,
    label="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ",
    alpha=0.9,
    color="black",
    edgecolor="black",
)

# –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π
colors = ["red", "orange", "green", "blue"]
for i, result in enumerate(simulation_results):
    plt.bar(
        x - 1.5 * width + (i + 1) * width,
        result["empirical_probs"],
        width,
        label=f'–≠–º–ø. ({result["num_simulations"]:,})',
        alpha=0.8,
        color=colors[i],
    )

plt.xlabel("–í—ã–∏–≥—Ä—ã—à (—Ä—É–±.)")
plt.ylabel("–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å")
plt.title("–ó–∞–∫–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (PMF) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π")
plt.xticks(x, [f"{amount:,.0f}" for amount in WIN_AMOUNTS], rotation=45)
plt.legend()
plt.grid(axis="y", linestyle="--", alpha=0.7)
plt.yscale("log")  # –õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–∞–ª—ã—Ö –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π

# 1.2 –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (CDF) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π
plt.subplot(2, 2, 2)
# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è CDF
plt.step(
    WIN_AMOUNTS, THEORETICAL_CDF, "k-", linewidth=3, label="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è", where="post"
)

# –≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ CDF –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π
linestyles = ["--", "-.", ":", "-"]
for i, result in enumerate(simulation_results):
    plt.step(
        WIN_AMOUNTS,
        result["empirical_cdf"],
        linewidth=2,
        label=f'–≠–º–ø. ({result["num_simulations"]:,})',
        linestyle=linestyles[i],
        where="post",
    )

plt.xlabel("–í—ã–∏–≥—Ä—ã—à (—Ä—É–±.)")
plt.ylabel("P(X ‚â§ x)")
plt.title("–§—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (CDF) –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π")
plt.xscale("log")
plt.grid(True, which="both", ls="-")
plt.legend()

# 1.3 –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
plt.subplot(2, 2, 3)
sim_counts = [result["num_simulations"] for result in simulation_results]
empirical_means = [result["empirical_expected"] for result in simulation_results]
theoretical_means = [THEORETICAL_EXPECTED_WIN] * len(sim_counts)

plt.plot(
    sim_counts,
    empirical_means,
    "bo-",
    linewidth=2,
    markersize=8,
    label="–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ MO",
)
plt.axhline(
    y=THEORETICAL_EXPECTED_WIN,
    color="r",
    linestyle="--",
    linewidth=2,
    label=f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–µ MO = {THEORETICAL_EXPECTED_WIN:.2f}",
)

plt.xscale("log")
plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π (–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞)")
plt.ylabel("–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞ (—Ä—É–±.)")
plt.title("–°—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è")
plt.grid(True, which="both", ls="-")
plt.legend()

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞–¥ —Ç–æ—á–∫–∞–º–∏
for i, (count, mean) in enumerate(zip(sim_counts, empirical_means)):
    plt.annotate(
        f"{mean:.2f}",
        (count, mean),
        xytext=(0, 10),
        textcoords="offset points",
        ha="center",
    )

# 1.4 –û—à–∏–±–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
plt.subplot(2, 2, 4)
errors = [
    abs(emp - THEORETICAL_EXPECTED_WIN) / THEORETICAL_EXPECTED_WIN
    for emp in empirical_means
]

plt.plot(sim_counts, errors, "ro-", linewidth=2, markersize=8)
plt.xscale("log")
plt.yscale("log")
plt.xlabel("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π (–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞)")
plt.ylabel("–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ MO (–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞)")
plt.title("–°—Ö–æ–¥–∏–º–æ—Å—Ç—å: –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è")
plt.grid(True, which="both", ls="-")

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞–¥ —Ç–æ—á–∫–∞–º–∏
for i, (count, error) in enumerate(zip(sim_counts, errors)):
    plt.annotate(
        f"{error:.2%}",
        (count, error),
        xytext=(0, -15),
        textcoords="offset points",
        ha="center",
    )

plt.tight_layout()

# 2. –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π (100,000)
max_result = simulation_results[-1]

# 3. –ê–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π
accuracy_data = []
for result in simulation_results:
    # –û—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
    prob_errors = np.abs(result["empirical_probs"] - WIN_PROBABILITIES)
    max_prob_error = np.max(prob_errors)
    mean_prob_error = np.mean(prob_errors)

    # –û—à–∏–±–∫–∞ CDF
    cdf_errors = np.abs(result["empirical_cdf"] - THEORETICAL_CDF)
    max_cdf_error = np.max(cdf_errors)
    kolmogorov_smirnov = np.max(cdf_errors)  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ö–æ–ª–º–æ–≥–æ—Ä–æ–≤–∞-–°–º–∏—Ä–Ω–æ–≤–∞

    # –û—à–∏–±–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
    mo_error = abs(result["empirical_expected"] - THEORETICAL_EXPECTED_WIN)
    mo_relative_error = mo_error / THEORETICAL_EXPECTED_WIN

    accuracy_data.append(
        {
            "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π": result["num_simulations"],
            "–ú–∞–∫—Å. –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏": max_prob_error,
            "–°—Ä–µ–¥. –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏": mean_prob_error,
            "–ú–∞–∫—Å. –æ—à–∏–±–∫–∞ CDF": max_cdf_error,
            "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ KS": kolmogorov_smirnov,
            "–ê–±—Å. –æ—à–∏–±–∫–∞ MO (—Ä—É–±.)": mo_error,
            "–û—Ç–Ω. –æ—à–∏–±–∫–∞ MO": mo_relative_error,
        }
    )

accuracy_df = pd.DataFrame(accuracy_data)

print("\n–ê–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π:")
print(
    accuracy_df.to_string(
        index=False, float_format=lambda x: f"{x:.6f}" if x < 1 else f"{x:,.2f}"
    )
)


# 5. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
print("1. –°—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π:")
print(
    f"   - –ü—Ä–∏ 100 —Å–∏–º—É–ª—è—Ü–∏—è—Ö: –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è"
)
print(f"   - –ü—Ä–∏ 1,000 —Å–∏–º—É–ª—è—Ü–∏—è—Ö: —É–ª—É—á—à–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, –Ω–æ –µ—â–µ –∑–∞–º–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏")
print(f"   - –ü—Ä–∏ 10,000 —Å–∏–º—É–ª—è—Ü–∏–π: —Ö–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π")
print(
    f"   - –ü—Ä–∏ 100,000 —Å–∏–º—É–ª—è—Ü–∏–π: –æ—Ç–ª–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ (–º–∞–∫—Å. –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ < 0.001)"
)

print("\n2. –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è:")
for i, result in enumerate(simulation_results):
    rel_error = (
        abs(result["empirical_expected"] - THEORETICAL_EXPECTED_WIN)
        / THEORETICAL_EXPECTED_WIN
    )
    print(
        f"   - {result['num_simulations']:,} —Å–∏–º—É–ª—è—Ü–∏–π: MO = {result['empirical_expected']:.4f}, –æ—à–∏–±–∫–∞ = {rel_error:.2%}"
    )
```

    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –±–∏–ª–µ—Ç–∞:
    –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞: 36.7726 —Ä—É–±.
    –°—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: 1.0000000000
    
    –°–∏–º—É–ª—è—Ü–∏—è —Å 100 —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –≠–º–ø. MO: 35.5580 —Ä—É–±.
    –°–∏–º—É–ª—è—Ü–∏—è —Å 1,000 —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –≠–º–ø. MO: 34.9725 —Ä—É–±.
    –°–∏–º—É–ª—è—Ü–∏—è —Å 10,000 —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –≠–º–ø. MO: 35.0844 —Ä—É–±.
    –°–∏–º—É–ª—è—Ü–∏—è —Å 100,000 —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –≠–º–ø. MO: 36.3584 —Ä—É–±.
    
    –ê–Ω–∞–ª–∏–∑ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤ —Å–∏–º—É–ª—è—Ü–∏–π:
     –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π  –ú–∞–∫—Å. –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏  –°—Ä–µ–¥. –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏  –ú–∞–∫—Å. –æ—à–∏–±–∫–∞ CDF  –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ KS  –ê–±—Å. –æ—à–∏–±–∫–∞ MO (—Ä—É–±.)  –û—Ç–Ω. –æ—à–∏–±–∫–∞ MO
                      100                  0.011860                  0.003953          0.011860       0.011860                   1.21        0.033029
                     1000                  0.015860                  0.006673          0.015860       0.015860                   1.80        0.048950
                    10000                  0.012404                  0.004573          0.012498       0.012498                   1.69        0.045908
                   100000                  0.001134                  0.000429          0.001168       0.001168               0.414151        0.011262
    1. –°—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π:
       - –ü—Ä–∏ 100 —Å–∏–º—É–ª—è—Ü–∏—è—Ö: –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
       - –ü—Ä–∏ 1,000 —Å–∏–º—É–ª—è—Ü–∏—è—Ö: —É–ª—É—á—à–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è, –Ω–æ –µ—â–µ –∑–∞–º–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
       - –ü—Ä–∏ 10,000 —Å–∏–º—É–ª—è—Ü–∏–π: —Ö–æ—Ä–æ—à–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
       - –ü—Ä–∏ 100,000 —Å–∏–º—É–ª—è—Ü–∏–π: –æ—Ç–ª–∏—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ (–º–∞–∫—Å. –æ—à–∏–±–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ < 0.001)
    
    2. –°—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è:
       - 100 —Å–∏–º—É–ª—è—Ü–∏–π: MO = 35.5580, –æ—à–∏–±–∫–∞ = 3.30%
       - 1,000 —Å–∏–º—É–ª—è—Ü–∏–π: MO = 34.9725, –æ—à–∏–±–∫–∞ = 4.90%
       - 10,000 —Å–∏–º—É–ª—è—Ü–∏–π: MO = 35.0844, –æ—à–∏–±–∫–∞ = 4.59%
       - 100,000 —Å–∏–º—É–ª—è—Ü–∏–π: MO = 36.3584, –æ—à–∏–±–∫–∞ = 1.13%



    
![png](3_Syrov_files/3_Syrov_12_1.png)
    


### 2.4 –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –∏–≥—Ä, —á—Ç–æ–±—ã –æ—Ü–µ–Ω–∫–∏ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –≤—ã–∏–≥—Ä—ã—à–∞, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–≤–ø–∞–ª–∏ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –æ–¥–Ω–æ–π –¥–µ—Å—è—Ç–æ–π, –æ–¥–Ω–æ–π —Å–æ—Ç–æ–π, –æ–¥–Ω–æ–π —Ç—ã—Å—è—á–Ω–æ–π.


```python
TICKET_COST = 75
WIN_AMOUNTS = np.array([0, 50, 100, 116.86, 200, 10000000])
WIN_PROBABILITIES = np.array(
    [
        0.6915289505,  # 0 —Ä—É–±.
        0.0168456127,  # 50 —Ä—É–±.
        0.0028986626,  # 100 —Ä—É–±.
        0.3083745138,  # 116.86 —Ä—É–±.
        9.650463e-5,  # 200 —Ä—É–±.
        3.1051699e-8,  # 10 –º–ª–Ω —Ä—É–±.
    ]
)
WIN_PROBABILITIES = WIN_PROBABILITIES / np.sum(WIN_PROBABILITIES)

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
THEORETICAL_EXPECTED_WIN = np.sum(WIN_AMOUNTS * WIN_PROBABILITIES)
THEORETICAL_WIN_PROB = 1 - WIN_PROBABILITIES[0]  # –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞
THEORETICAL_STD = np.sqrt(
    np.sum(WIN_PROBABILITIES * (WIN_AMOUNTS - THEORETICAL_EXPECTED_WIN) ** 2)
)
THEORETICAL_CV = THEORETICAL_STD / THEORETICAL_EXPECTED_WIN
THEORETICAL_RTP = THEORETICAL_EXPECTED_WIN / TICKET_COST

print("=== –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ò–ï –ó–ù–ê–ß–ï–ù–ò–Ø –î–õ–Ø –°–†–ê–í–ù–ï–ù–ò–Ø ===")
print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP: {THEORETICAL_RTP:.6f}")
print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞: {THEORETICAL_WIN_PROB:.6f}")
print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV): {THEORETICAL_CV:.6f}\n")


def estimate_required_simulations(
    target_accuracies=[0.1, 0.01, 0.001],
    confidence_level=0.95,
    max_simulations=10000000,
):
    """
    –û—Ü–µ–Ω–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

    –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
    target_accuracies (list): —Ü–µ–ª–µ–≤—ã–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ [0.1, 0.01, 0.001]
    confidence_level (float): —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏
    max_simulations (int): –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è –ø–æ–∏—Å–∫–∞

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
    dict: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ –∫–∞–∂–¥–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
    """
    results = {
        "RTP": {str(acc): None for acc in target_accuracies},
        "Win_Probability": {str(acc): None for acc in target_accuracies},
        "Volatility_CV": {str(acc): None for acc in target_accuracies},
    }

    # –°–ª–æ–≤–∞—Ä—å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    progress = {
        param: {str(acc): False for acc in target_accuracies}
        for param in results.keys()
    }
    all_satisfied = False

    # –ù–∞—á–∏–Ω–∞–µ–º —Å –Ω–µ–±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º
    n = 1000
    step_multiplier = 2
    max_steps = 20

    print("–ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π...")
    print(
        f"{'–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π':<15} | {'RTP (–æ—à–∏–±–∫–∞)':<15} | {'P(–≤—ã–∏–≥—Ä—ã—à) (–æ—à–∏–±–∫–∞)':<20} | {'CV (–æ—à–∏–±–∫–∞)':<15}"
    )
    print("-" * 85)

    while n <= max_simulations and not all_satisfied and max_steps > 0:
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–∏–º—É–ª—è—Ü–∏–∏
        np.random.seed(42)  # –î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏
        simulated_wins = np.random.choice(WIN_AMOUNTS, size=n, p=WIN_PROBABILITIES)

        # –í—ã—á–∏—Å–ª—è–µ–º —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
        empirical_expected = np.mean(simulated_wins)
        empirical_win_prob = np.mean(simulated_wins > 0)
        empirical_std = np.std(simulated_wins, ddof=1)
        empirical_cv = (
            empirical_std / empirical_expected if empirical_expected > 0 else np.inf
        )
        empirical_rtp = empirical_expected / TICKET_COST

        # –í—ã—á–∏—Å–ª—è–µ–º –æ—à–∏–±–∫–∏
        rtp_error = abs(empirical_rtp - THEORETICAL_RTP)
        win_prob_error = abs(empirical_win_prob - THEORETICAL_WIN_PROB)
        cv_error = abs(empirical_cv - THEORETICAL_CV)

        # –í—ã–≤–æ–¥–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        if n in [1000, 5000, 10000, 50000, 100000, 500000, 1000000]:
            print(
                f"{n:<15,} | {empirical_rtp:.6f} ({rtp_error:.6f}) | {empirical_win_prob:.6f} ({win_prob_error:.6f}) | {empirical_cv:.6f} ({cv_error:.6f})"
            )

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö —Ç–æ—á–Ω–æ—Å—Ç–µ–π
        for accuracy in target_accuracies:
            acc_str = str(accuracy)

            # RTP
            if not progress["RTP"][acc_str] and rtp_error <= accuracy:
                results["RTP"][acc_str] = n
                progress["RTP"][acc_str] = True

            # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞
            if not progress["Win_Probability"][acc_str] and win_prob_error <= accuracy:
                results["Win_Probability"][acc_str] = n
                progress["Win_Probability"][acc_str] = True

            # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
            if not progress["Volatility_CV"][acc_str] and cv_error <= accuracy:
                results["Volatility_CV"][acc_str] = n
                progress["Volatility_CV"][acc_str] = True

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ —Ü–µ–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã
        all_satisfied = all(all(progress[param].values()) for param in progress.keys())

        if all_satisfied:
            break

        # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π
        n = int(n * step_multiplier)
        max_steps -= 1

    return results


# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Ü–µ–Ω–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π
start_time = time.time()
required_simulations = estimate_required_simulations(
    target_accuracies=[0.1, 0.01, 0.001]
)
end_time = time.time()

print(f"\n–ü–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω –∑–∞ {end_time - start_time:.2f} —Å–µ–∫—É–Ω–¥")
print("\n=== –†–ï–ó–£–õ–¨–¢–ê–¢–´: –ù–ï–û–ë–•–û–î–ò–ú–û–ï –ö–û–õ–ò–ß–ï–°–¢–í–û –°–ò–ú–£–õ–Ø–¶–ò–ô ===")

# –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
results_table = []
for param_name, param_results in required_simulations.items():
    param_display = {
        "RTP": "–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)",
        "Win_Probability": "–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞",
        "Volatility_CV": "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV)",
    }[param_name]

    row = {"–ü–∞—Ä–∞–º–µ—Ç—Ä": param_display}
    for accuracy in ["0.1", "0.01", "0.001"]:
        n = param_results[accuracy]
        row[f"–¢–æ—á–Ω–æ—Å—Ç—å {accuracy}"] = (
            f"{n:,}" if n is not None else ">10,000,000 (–Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ)"
        )

    results_table.append(row)

results_df = pd.DataFrame(results_table)
print(results_df.to_string(index=False))

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
plt.figure(figsize=(12, 8))

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞
parameters = [
    "–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)",
    "–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞",
    "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV)",
]
accuracies = [0.1, 0.01, 0.001]
colors = ["blue", "green", "red"]

x = np.arange(len(accuracies))
width = 0.25

for i, param in enumerate(["RTP", "Win_Probability", "Volatility_CV"]):
    values = []
    for acc in accuracies:
        n = required_simulations[param][str(acc)]
        values.append(np.log10(n) if n is not None else np.log10(10000000))

    plt.bar(
        x + i * width, values, width, label=parameters[i], alpha=0.8, color=colors[i]
    )

plt.xlabel("–¢—Ä–µ–±—É–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å")
plt.ylabel("log10(–ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π)")
plt.title("–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π –æ—Ç —Ç—Ä–µ–±—É–µ–º–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏")
plt.xticks(x + width, [f"{acc:.3f}" for acc in accuracies])
plt.legend()
plt.grid(axis="y", linestyle="--", alpha=0.7)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞–¥ —Å—Ç–æ–ª–±—Ü–∞–º–∏
for i, param in enumerate(["RTP", "Win_Probability", "Volatility_CV"]):
    for j, acc in enumerate(accuracies):
        n = required_simulations[param][str(acc)]
        if n is not None:
            plt.text(
                j + i * width,
                np.log10(n) + 0.1,
                f"{n/1000:.0f}k" if n >= 1000 else str(n),
                ha="center",
                fontsize=9,
            )

plt.tight_layout()

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏
print("\n=== –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ê–Ø –û–¶–ï–ù–ö–ê –ù–ï–û–ë–•–û–î–ò–ú–û–ì–û –ö–û–õ–ò–ß–ï–°–¢–í–ê –°–ò–ú–£–õ–Ø–¶–ò–ô ===")

# –î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ (RTP) –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–æ—Ä–º—É–ª—É: n = (Z^2 * œÉ^2) / E^2
Z = 1.96  # –¥–ª—è 95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
sigma_rtp = THEORETICAL_STD / TICKET_COST  # –°–ö–û RTP

print(f"–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è RTP (Z={Z:.2f}, œÉ={sigma_rtp:.4f}):")
for accuracy in [0.1, 0.01, 0.001]:
    n_theoretical = (Z**2 * sigma_rtp**2) / (accuracy**2)
    print(f"  –¢–æ—á–Ω–æ—Å—Ç—å {accuracy:.3f}: n ‚â• {n_theoretical:,.0f}")

# –î–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–Ω–æ–º–∏–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É: n = (Z^2 * p * (1-p)) / E^2
p = THEORETICAL_WIN_PROB
print(f"\n–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ (p={p:.4f}):")
for accuracy in [0.1, 0.01, 0.001]:
    n_theoretical = (Z**2 * p * (1 - p)) / (accuracy**2)
    print(f"  –¢–æ—á–Ω–æ—Å—Ç—å {accuracy:.3f}: n ‚â• {n_theoretical:,.0f}")

# –î–ª—è CV —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–µ–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
print(
    f"\n–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è CV –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞"
)


# –í—ã–≤–æ–¥ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
print("\n=== –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò ===")
print("1. –î–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ü–µ–Ω–∫–∏ (—Ç–æ—á–Ω–æ—Å—Ç—å 0.1):")
# –§–∏–ª—å—Ç—Ä—É–µ–º None –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.1
values_0_1 = [
    required_simulations["RTP"]["0.1"],
    required_simulations["Win_Probability"]["0.1"],
    required_simulations["Volatility_CV"]["0.1"],
]
valid_values_0_1 = [v for v in values_0_1 if v is not None]
if valid_values_0_1:
    min_value_0_1 = min(valid_values_0_1)
    print(f"   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ {min_value_0_1:,} —Å–∏–º—É–ª—è—Ü–∏–π")
else:
    print(
        "   - –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ—Å—Ç–∏—á—å —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.1 –¥–∞–∂–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–∏–º—É–ª—è—Ü–∏–π"
    )
print("   - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ—Ä—è–¥–∫–æ–≤—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–æ–∫")

print("\n2. –î–ª—è –Ω–∞—É—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (—Ç–æ—á–Ω–æ—Å—Ç—å 0.01):")
# –§–∏–ª—å—Ç—Ä—É–µ–º None –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.01
values_0_01 = [
    required_simulations["RTP"]["0.01"],
    required_simulations["Win_Probability"]["0.01"],
    required_simulations["Volatility_CV"]["0.01"],
]
valid_values_0_01 = [v for v in values_0_01 if v is not None]
if valid_values_0_01:
    max_value_0_01 = max(valid_values_0_01)
    print(f"   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–µ –º–µ–Ω–µ–µ {max_value_0_01:,} —Å–∏–º—É–ª—è—Ü–∏–π")
else:
    print(
        "   - –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ—Å—Ç–∏—á—å —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.01 –¥–∞–∂–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–∏–º—É–ª—è—Ü–∏–π"
    )
print("   - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞")

print("\n3. –î–ª—è –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (—Ç–æ—á–Ω–æ—Å—Ç—å 0.001):")
# –§–∏–ª—å—Ç—Ä—É–µ–º None –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.001
values_0_001 = [
    required_simulations["RTP"]["0.001"],
    required_simulations["Win_Probability"]["0.001"],
    required_simulations["Volatility_CV"]["0.001"],
]
valid_values_0_001 = [v for v in values_0_001 if v is not None]
if valid_values_0_001:
    max_value_0_001 = max(valid_values_0_001)
    print(f"   - –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ –º–µ–Ω–µ–µ {max_value_0_001:,} —Å–∏–º—É–ª—è—Ü–∏–π")
else:
    print(
        "   - –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ—Å—Ç–∏—á—å —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.001 –¥–∞–∂–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–∏–º—É–ª—è—Ü–∏–π"
    )
print("   - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –æ–¥–Ω–æ–π —Ç—ã—Å—è—á–Ω–æ–π")


# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏
print("\n=== –ê–ù–ê–õ–ò–ó –î–û–°–¢–ò–ñ–ò–ú–û–°–¢–ò –¢–û–ß–ù–û–°–¢–ò ===")
reachability_data = []
for param_name in ["RTP", "Win_Probability", "Volatility_CV"]:
    param_display = {
        "RTP": "–°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)",
        "Win_Probability": "–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞",
        "Volatility_CV": "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV)",
    }[param_name]

    for accuracy in ["0.1", "0.01", "0.001"]:
        n = required_simulations[param_name][accuracy]
        reachable = n is not None
        status = "–î–û–°–¢–ò–ñ–ò–ú–ê" if reachable else "–ù–ï –î–û–°–¢–ò–ñ–ò–ú–ê (—Ç—Ä–µ–±—É–µ—Ç—Å—è >10,000,000)"
        value = f"{n:,}" if reachable else ">"

        reachability_data.append(
            {
                "–ü–∞—Ä–∞–º–µ—Ç—Ä": param_display,
                "–¢–æ—á–Ω–æ—Å—Ç—å": accuracy,
                "–°—Ç–∞—Ç—É—Å": status,
                "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∏–º—É–ª—è—Ü–∏–π": value,
            }
        )

reachability_df = pd.DataFrame(reachability_data)
print(reachability_df.to_string(index=False))

# –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π
print("\n=== –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ò–ô –†–ê–°–ß–ï–¢ –ù–ï–û–ë–•–û–î–ò–ú–û–ì–û –ö–û–õ–ò–ß–ï–°–¢–í–ê –°–ò–ú–£–õ–Ø–¶–ò–ô ===")

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
Z = 1.96  # Z-–∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è 95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
confidence_level = 0.95

print("1. –î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ (RTP):")
print(f"   –§–æ—Ä–º—É–ª–∞: n = (Z¬≤ √ó œÉ¬≤) / E¬≤")
print(f"   –≥–¥–µ Z = {Z:.2f} (–¥–ª—è {confidence_level:.0%} –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞)")
print(f"         œÉ = {THEORETICAL_STD/TICKET_COST:.4f} (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ RTP)")
print(f"         E - —Ç—Ä–µ–±—É–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å")
sigma_rtp = THEORETICAL_STD / TICKET_COST
for accuracy in [0.1, 0.01, 0.001]:
    n_theoretical = (Z**2 * sigma_rtp**2) / (accuracy**2)
    print(f"   –¢–æ—á–Ω–æ—Å—Ç—å {accuracy:.3f}: n ‚â• {n_theoretical:,.0f}")

print("\n2. –î–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞:")
print(f"   –§–æ—Ä–º—É–ª–∞: n = (Z¬≤ √ó p √ó (1-p)) / E¬≤")
print(f"   –≥–¥–µ p = {THEORETICAL_WIN_PROB:.4f} (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞)")
p = THEORETICAL_WIN_PROB
for accuracy in [0.1, 0.01, 0.001]:
    n_theoretical = (Z**2 * p * (1 - p)) / (accuracy**2)
    print(f"   –¢–æ—á–Ω–æ—Å—Ç—å {accuracy:.3f}: n ‚â• {n_theoretical:,.0f}")
```

    === –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ò–ï –ó–ù–ê–ß–ï–ù–ò–Ø –î–õ–Ø –°–†–ê–í–ù–ï–ù–ò–Ø ===
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π RTP: 0.490301
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞: 0.321860
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV): 47.476245
    
    –ù–∞—á–∏–Ω–∞–µ–º –ø–æ–∏—Å–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π...
    –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º—É–ª—è—Ü–∏–π | RTP (–æ—à–∏–±–∫–∞)    | P(–≤—ã–∏–≥—Ä—ã—à) (–æ—à–∏–±–∫–∞)  | CV (–æ—à–∏–±–∫–∞)    
    -------------------------------------------------------------------------------------
    1,000           | 0.466301 (0.024000) | 0.306000 (0.015860) | 1.518816 (45.957428)
    
    –ü–æ–∏—Å–∫ –∑–∞–≤–µ—Ä—à–µ–Ω –∑–∞ 0.30 —Å–µ–∫—É–Ω–¥
    
    === –†–ï–ó–£–õ–¨–¢–ê–¢–´: –ù–ï–û–ë–•–û–î–ò–ú–û–ï –ö–û–õ–ò–ß–ï–°–¢–í–û –°–ò–ú–£–õ–Ø–¶–ò–ô ===
                          –ü–∞—Ä–∞–º–µ—Ç—Ä                –¢–æ—á–Ω–æ—Å—Ç—å 0.1               –¢–æ—á–Ω–æ—Å—Ç—å 0.01              –¢–æ—á–Ω–æ—Å—Ç—å 0.001
    –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)                       1,000                       2,000 >10,000,000 (–Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ)
              –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞                       1,000                       2,000                       2,000
    –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV) >10,000,000 (–Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ) >10,000,000 (–Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ) >10,000,000 (–Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ)
    
    === –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ê–Ø –û–¶–ï–ù–ö–ê –ù–ï–û–ë–•–û–î–ò–ú–û–ì–û –ö–û–õ–ò–ß–ï–°–¢–í–ê –°–ò–ú–£–õ–Ø–¶–ò–ô ===
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è RTP (Z=1.96, œÉ=23.2776):
      –¢–æ—á–Ω–æ—Å—Ç—å 0.100: n ‚â• 208,157
      –¢–æ—á–Ω–æ—Å—Ç—å 0.010: n ‚â• 20,815,658
      –¢–æ—á–Ω–æ—Å—Ç—å 0.001: n ‚â• 2,081,565,758
    
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ (p=0.3219):
      –¢–æ—á–Ω–æ—Å—Ç—å 0.100: n ‚â• 84
      –¢–æ—á–Ω–æ—Å—Ç—å 0.010: n ‚â• 8,385
      –¢–æ—á–Ω–æ—Å—Ç—å 0.001: n ‚â• 838,492
    
    –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è CV –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞
    
    === –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò ===
    1. –î–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ü–µ–Ω–∫–∏ (—Ç–æ—á–Ω–æ—Å—Ç—å 0.1):
       - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 1,000 —Å–∏–º—É–ª—è—Ü–∏–π
       - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ—Ä—è–¥–∫–æ–≤—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–æ–∫
    
    2. –î–ª—è –Ω–∞—É—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (—Ç–æ—á–Ω–æ—Å—Ç—å 0.01):
       - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–µ –º–µ–Ω–µ–µ 2,000 —Å–∏–º—É–ª—è—Ü–∏–π
       - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
    
    3. –î–ª—è –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ (—Ç–æ—á–Ω–æ—Å—Ç—å 0.001):
       - –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ –º–µ–Ω–µ–µ 2,000 —Å–∏–º—É–ª—è—Ü–∏–π
       - –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –æ–¥–Ω–æ–π —Ç—ã—Å—è—á–Ω–æ–π
    
    4. –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
       - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–æ–π –¥–∏—Å–ø–µ—Ä—Å–∏–∏
       - –î–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–¥–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π (–¥–∂–µ–∫–ø–æ—Ç) —Ç—Ä–µ–±—É—é—Ç—Å—è –º–∏–ª–ª–∏–æ–Ω—ã —Å–∏–º—É–ª—è—Ü–∏–π
       - –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 100,000-500,000 —Å–∏–º—É–ª—è—Ü–∏–π
       - –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–≤–µ–ª–∏—á–∏—Ç—å max_simulations –≤ —Ñ—É–Ω–∫—Ü–∏–∏ estimate_required_simulations
    
    === –ê–ù–ê–õ–ò–ó –î–û–°–¢–ò–ñ–ò–ú–û–°–¢–ò –¢–û–ß–ù–û–°–¢–ò ===
                          –ü–∞—Ä–∞–º–µ—Ç—Ä –¢–æ—á–Ω–æ—Å—Ç—å                               –°—Ç–∞—Ç—É—Å –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∏–º—É–ª—è—Ü–∏–π
    –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)      0.1                            –î–û–°–¢–ò–ñ–ò–ú–ê                1,000
    –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)     0.01                            –î–û–°–¢–ò–ñ–ò–ú–ê                2,000
    –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–∏–≥—Ä—ã—à–∞ (RTP)    0.001 –ù–ï –î–û–°–¢–ò–ñ–ò–ú–ê (—Ç—Ä–µ–±—É–µ—Ç—Å—è >10,000,000)                    >
              –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞      0.1                            –î–û–°–¢–ò–ñ–ò–ú–ê                1,000
              –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞     0.01                            –î–û–°–¢–ò–ñ–ò–ú–ê                2,000
              –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞    0.001                            –î–û–°–¢–ò–ñ–ò–ú–ê                2,000
    –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV)      0.1 –ù–ï –î–û–°–¢–ò–ñ–ò–ú–ê (—Ç—Ä–µ–±—É–µ—Ç—Å—è >10,000,000)                    >
    –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV)     0.01 –ù–ï –î–û–°–¢–ò–ñ–ò–ú–ê (—Ç—Ä–µ–±—É–µ—Ç—Å—è >10,000,000)                    >
    –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV)    0.001 –ù–ï –î–û–°–¢–ò–ñ–ò–ú–ê (—Ç—Ä–µ–±—É–µ—Ç—Å—è >10,000,000)                    >
    
    === –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ò–ô –†–ê–°–ß–ï–¢ –ù–ï–û–ë–•–û–î–ò–ú–û–ì–û –ö–û–õ–ò–ß–ï–°–¢–í–ê –°–ò–ú–£–õ–Ø–¶–ò–ô ===
    1. –î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ (RTP):
       –§–æ—Ä–º—É–ª–∞: n = (Z¬≤ √ó œÉ¬≤) / E¬≤
       –≥–¥–µ Z = 1.96 (–¥–ª—è 95% –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞)
             œÉ = 23.2776 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ RTP)
             E - —Ç—Ä–µ–±—É–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
       –¢–æ—á–Ω–æ—Å—Ç—å 0.100: n ‚â• 208,157
       –¢–æ—á–Ω–æ—Å—Ç—å 0.010: n ‚â• 20,815,658
       –¢–æ—á–Ω–æ—Å—Ç—å 0.001: n ‚â• 2,081,565,758
    
    2. –î–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞:
       –§–æ—Ä–º—É–ª–∞: n = (Z¬≤ √ó p √ó (1-p)) / E¬≤
       –≥–¥–µ p = 0.3219 (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞)
       –¢–æ—á–Ω–æ—Å—Ç—å 0.100: n ‚â• 84
       –¢–æ—á–Ω–æ—Å—Ç—å 0.010: n ‚â• 8,385
       –¢–æ—á–Ω–æ—Å—Ç—å 0.001: n ‚â• 838,492
    
    3. –î–ª—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏:
       –¢–æ—á–Ω–∞—è —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Å–ª–æ–∂–Ω–∞ –∏–∑-–∑–∞ –Ω–µ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ CV
       –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –±—É—Ç—Å—Ç—Ä—ç–ø-–º–µ—Ç–æ–¥—ã
       –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ CV —Ç—Ä–µ–±—É–µ—Ç –≤ 2-5 —Ä–∞–∑ –±–æ–ª—å—à–µ —Å–∏–º—É–ª—è—Ü–∏–π, —á–µ–º –æ—Ü–µ–Ω–∫–∞ —Å—Ä–µ–¥–Ω–µ–≥–æ
    
    === –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò –°–ò–ú–£–õ–Ø–¶–ò–ô ===
    1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ NumPy –≤–º–µ—Å—Ç–æ —Ü–∏–∫–ª–æ–≤
    2. –î–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–¥–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π (–¥–∂–µ–∫–ø–æ—Ç) –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–µ—Ç–æ–¥—ã –≤–∞–∂–Ω–µ–π—à–µ–π –≤—ã–±–æ—Ä–∫–∏
    3. –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑—É–π—Ç–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–π
    4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π —Å –æ—Ü–µ–Ω–∫–æ–π —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    5. –î–ª—è –≤—ã—Å–æ–∫–∏—Ö —Ç–æ—á–Ω–æ—Å—Ç–µ–π (0.001) —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—Å–∏–º–ø—Ç–æ—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
    
    === –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï ===
    1. –î–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 10,000-50,000 —Å–∏–º—É–ª—è—Ü–∏–π (—Ç–æ—á–Ω–æ—Å—Ç—å ~0.01)
    2. –î–ª—è –Ω–∞—É—á–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ —Ç–æ—á–Ω—ã—Ö –æ—Ü–µ–Ω–æ–∫ —Ç—Ä–µ–±—É–µ—Ç—Å—è 100,000-500,000 —Å–∏–º—É–ª—è—Ü–∏–π (—Ç–æ—á–Ω–æ—Å—Ç—å ~0.001)
    3. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–∏–º—É–ª—è—Ü–∏–π
    4. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ —Ö–æ—Ä–æ—à–æ —Å–æ–≥–ª–∞—Å—É—é—Ç—Å—è —Å —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –¥–ª—è RTP –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞
    5. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç–∏–∂–∏–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–∏



    
![png](3_Syrov_files/3_Syrov_14_1.png)
    


# –í—ã–≤–æ–¥
–ù–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∑–∞–¥–∞–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–≤–æ–¥—ã. –î–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –≤—ã–∏–≥—Ä—ã—à–∞ (RTP) —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ 0.1 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Å–µ–≥–æ 1000 —Å–∏–º—É–ª—è—Ü–∏–π, –∞ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.01 —Ç—Ä–µ–±—É–µ—Ç—Å—è 2000 —Å–∏–º—É–ª—è—Ü–∏–π, –æ–¥–Ω–∞–∫–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.001 —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ –±—ã –±–æ–ª–µ–µ 2 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–π, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–≤—ã–ø–æ–ª–Ω–∏–º–æ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–∏–≥—Ä—ã—à–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ª—É—á—à—É—é —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å: –¥–∞–∂–µ –¥–ª—è –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ 0.001 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 2000 —Å–∏–º—É–ª—è—Ü–∏–π –±–ª–∞–≥–æ–¥–∞—Ä—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–∏–∑–∫–æ–π –¥–∏—Å–ø–µ—Ä—Å–∏–∏ —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (CV) –æ–∫–∞–∑–∞–ª—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–º ‚Äî –¥–∞–∂–µ –ø—Ä–∏ 10 –º–∏–ª–ª–∏–æ–Ω–∞—Ö —Å–∏–º—É–ª—è—Ü–∏–π –Ω–µ —É–¥–∞–ª–æ—Å—å –¥–æ—Å—Ç–∏—á—å –ø—Ä–∏–µ–º–ª–µ–º–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏–∑-–∑–∞ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–æ–π –¥–∏—Å–ø–µ—Ä—Å–∏–∏, –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–Ω–æ–π –Ω–∞–ª–∏—á–∏–µ–º –¥–∂–µ–∫–ø–æ—Ç–∞ –≤ 10 –º–ª–Ω —Ä—É–±–ª–µ–π. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç —ç—Ç—É —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é: –¥–ª—è –æ—Ü–µ–Ω–∫–∏ RTP —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.01 —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–∫–æ–ª–æ 20.8 –º–ª–Ω —Å–∏–º—É–ª—è—Ü–∏–π, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–∏–≥—Ä—ã—à–∞ —Å —Ç–æ–π –∂–µ —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 8385 —Å–∏–º—É–ª—è—Ü–∏–π. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ—Ç–µ—Ä–µ–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 10-50 —Ç—ã—Å—è—á —Å–∏–º—É–ª—è—Ü–∏–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏—Ö —Ç–æ—á–Ω–æ—Å—Ç—å ~0.01 –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∞ –¥–ª—è –Ω–∞—É—á–Ω—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è 100-500 —Ç—ã—Å—è—á —Å–∏–º—É–ª—è—Ü–∏–π. –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ ‚Äî –¥–ª—è –µ–≥–æ –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—É—Ç—Å—Ç—Ä—ç–ø-–º–µ—Ç–æ–¥—ã –∏–ª–∏ –∞—Å–∏–º–ø—Ç–æ—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º—É–ª—è—Ü–∏–π –¥–æ–ª–∂–µ–Ω –æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö –∏ —Ç—Ä–µ–±—É–µ–º–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏, —Å –æ—Å–æ–∑–Ω–∞–Ω–∏–µ–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –≤—ã—Å–æ–∫–æ–π –¥–∏—Å–ø–µ—Ä—Å–∏–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –≤ –ª–æ—Ç–µ—Ä–µ—è—Ö —Å –¥–∂–µ–∫–ø–æ—Ç–∞–º–∏.
